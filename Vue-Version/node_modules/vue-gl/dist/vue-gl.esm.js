import{Fog as t,Color as e,Vector2 as i,Vector3 as s,Euler as n,Quaternion as a,Spherical as r,Object3D as o,Scene as l,Camera as h,WebGLRenderer as c,PerspectiveCamera as u,Group as p,Light as d,DirectionalLight as m,AmbientLight as f,Material as g,FrontSide as v,BackSide as y,DoubleSide as b,PointsMaterial as w,BufferGeometry as S,BufferAttribute as F,SphereBufferGeometry as j,MeshStandardMaterial as N,Mesh as x,Points as O,LineBasicMaterial as A,Line as k,Sprite as L,BoxBufferGeometry as V,CircleBufferGeometry as R,LineSegments as I,LineLoop as C,CylinderBufferGeometry as z,ConeBufferGeometry as D,AxesHelper as P,OrthographicCamera as M,PlaneBufferGeometry as T,DodecahedronBufferGeometry as E,IcosahedronBufferGeometry as $,OctahedronBufferGeometry as G,RingBufferGeometry as U,TetrahedronBufferGeometry as q,TorusBufferGeometry as B,TorusKnotBufferGeometry as H,ArrowHelper as W,BoxHelper as Q,PointLight as _,SpotLight as K,TextureLoader as X,UVMapping as Y,CubeReflectionMapping as Z,CubeRefractionMapping as J,EquirectangularReflectionMapping as tt,EquirectangularRefractionMapping as et,SphericalReflectionMapping as it,CubeUVReflectionMapping as st,CubeUVRefractionMapping as nt,RepeatWrapping as at,ClampToEdgeWrapping as rt,MirroredRepeatWrapping as ot,NearestFilter as lt,NearestMipMapNearestFilter as ht,NearestMipMapLinearFilter as ct,LinearFilter as ut,LinearMipMapNearestFilter as pt,LinearMipMapLinearFilter as dt,AlphaFormat as mt,RGBFormat as ft,RGBAFormat as gt,LuminanceFormat as vt,LuminanceAlphaFormat as yt,RGBEFormat as bt,DepthFormat as wt,DepthStencilFormat as St,UnsignedByteType as Ft,ByteType as jt,ShortType as Nt,UnsignedShortType as xt,IntType as Ot,UnsignedIntType as At,FloatType as kt,HalfFloatType as Lt,UnsignedShort4444Type as Vt,UnsignedShort5551Type as Rt,UnsignedShort565Type as It,UnsignedInt248Type as Ct,LinearEncoding as zt,sRGBEncoding as Dt,GammaEncoding as Pt,RGBEEncoding as Mt,LogLuvEncoding as Tt,RGBM7Encoding as Et,RGBM16Encoding as $t,RGBDEncoding as Gt,BasicDepthPacking as Ut,RGBADepthPacking as qt,ExtrudeBufferGeometry as Bt,TextBufferGeometry as Ht,FontLoader as Wt,SpriteMaterial as Qt,GridHelper as _t,ShadowMaterial as Kt,CameraHelper as Xt,DirectionalLightHelper as Yt,PolarGridHelper as Zt,MeshBasicMaterial as Jt,MeshDepthMaterial as te,MeshLambertMaterial as ee,LineDashedMaterial as ie,MeshNormalMaterial as se,MeshPhongMaterial as ne,MeshToonMaterial as ae,MeshPhysicalMaterial as re,ShaderMaterial as oe,LatheBufferGeometry as le,SpotLightHelper as he,HemisphereLight as ce,RectAreaLight as ue,Curve as pe,CurvePath as de,Path as me,Shape as fe,ShapeBufferGeometry as ge,PolyhedronBufferGeometry as ve}from"three";function ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function we(t,e,i){return e&&be(t.prototype,e),i&&be(t,i),t}function Se(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fe(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function je(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(i),!0).forEach((function(e){Se(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Fe(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ne(t,e){return(Ne=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Oe(t,e,i){return(Oe=xe()?Reflect.construct:function(t,e,i){var s=[null];s.push.apply(s,e);var n=new(Function.bind.apply(t,s));return i&&Ne(n,i.prototype),n}).apply(null,arguments)}function Ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],s=!0,n=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(t){n=!0,a=t}finally{try{s||null==o.return||o.return()}finally{if(n)throw a}}return i}(t,e)||Le(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(t){return function(t){if(Array.isArray(t))return Ve(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(t,e){if(t){if("string"==typeof t)return Ve(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ve(t,e):void 0}}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var Re=function(){function t(e){ye(this,t),this.parent=e,this.children=[],this.hash=Object.create(null),this.listeners=Object.create(null),this.globalListeners=[],e&&e.children.push(this)}return we(t,[{key:"listen",value:function(t,e){"function"==typeof t?this.globalListeners.includes(t)||this.globalListeners.push(t):t in this.listeners?this.listeners[t].includes(e)||this.listeners[t].push(e):this.listeners[t]=[e]}},{key:"unlisten",value:function(t,e){if("function"==typeof t){var i=this.globalListeners.indexOf(t);i>=0&&this.globalListeners.splice(i,1)}else{var s=this.listeners[t];if(s)if(s.length>1){var n=s.indexOf(e);n>=0&&s.splice(n,1)}else s[0]===e&&delete this.listeners[t]}}},{key:"get",value:function(t){return t in this.hash?this.hash[t]:this.parent&&this.parent.get(t)}},{key:"set",value:function(t,e){this.hash[t]!==e&&(this.hash[t]=e,this.emit(t,e))}},{key:"keys",value:function(){var t=this,e=Object.keys(this.hash);if(!this.parent)return e;var i=this.parent.keys().filter((function(e){return!(e in t.hash)}));return[].concat(ke(i),ke(e))}},{key:"delete",value:function(t,e){this.hash[t]===e&&(delete this.hash[t],this.emit(t,this.parent&&this.parent.get(t)))}},{key:"emit",value:function(t,e){var i=this;t in this.listeners&&this.listeners[t].forEach((function(t){return t(e)})),this.children.forEach((function(i){t in i.hash||i.emit(t,e)})),this.globalListeners.forEach((function(t){return t(i)}))}},{key:"destroy",value:function(){if(this.parent){var t=this.parent.children;t.splice(t.indexOf(this),1)}}},{key:"fork",value:function(){return new t(this)}}]),t}(),Ie={inject:{vglNamespace:{default:function(){return{cameras:new Re,scenes:new Re}}}},provide:function(){var t=this.vglNamespace,e=t.geometries,i=t.materials,s=t.textures,n=t.object3ds,a=t.curves;return{vglNamespace:Object.create(this.vglNamespace,{geometries:{value:e?e.fork():new Re},materials:{value:i?i.fork():new Re},textures:{value:s?s.fork():new Re},object3ds:{value:n?n.fork():new Re},curves:{value:a?a.fork():new Re}})}},beforeDestroy:function(){var t=this.vglNamespace,e=t.geometries,i=t.materials,s=t.textures,n=t.object3ds,a=t.curves;e&&e.destroy(),i&&i.destroy(),s&&s.destroy(),n&&n.destroy(),a&&a.destroy()},render:function(t){return this.$slots.default?t("div",this.$slots.default):void 0}},Ce=function(){function t(e,i){ye(this,t),this.listeners=e?e.listeners:[],this.inst=i||function(){}}return we(t,[{key:"listen",value:function(t){this.listeners.includes(t)||this.listeners.push(t)}},{key:"unlisten",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"emit",value:function(){this.listeners.forEach((function(t){return t()}))}}]),t}();function ze(t){return Array.isArray(t)?t:t.trim().split(/\s+/)}function De(t){return t.isColor?t:new e(t)}function Pe(t){if(t.isVector2)return t;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return Oe(i,ke(e.map(parseFloat)))}function Me(t){if(t.isVector3)return t;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return Oe(s,ke(e.map(parseFloat)))}function Te(t){if(t.isEuler)return t;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return Oe(n,ke(e.slice(0,3).map(parseFloat)).concat([e[3]]))}function Ee(t){if(t.isQuaternion)return t;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return Oe(a,ke(e.map(parseFloat)))}function $e(t){if(t instanceof r)return t;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return Oe(r,ke(e.map(parseFloat))).makeSafe()}function Ge(t){return Array.isArray(t)?t:t.split(",")}function Ue(t){var e=Array.isArray(t);return e&&t.every((function(t){return t.isVector2}))?t:(e?t:t.split(",")).map(Pe)}function qe(e){return e.isFog?e:Oe(t,ke(e.trim().split(/\s+/).map((function(t,e){return 0===e?t:parseFloat(t)}))))}var Be=Boolean,He=[String,Number],We=[String,Number],Qe=String,_e=String,Ke=[String,Array],Xe=[String,e,Number],Ye=[String,i],Ze=[String,s],Je=[String,Array],ti=[String,Array],ei=[String,Array];function ii(t){return!Number.isNaN(parseFloat(t))}function si(t){return!Number.isNaN(parseInt(t,10))}function ni(t){return/^\s*\S+\s*$/.test(t)}function ai(t){return Array.isArray(t)?t.every(ni):/\S+/.test(t)}function ri(t){if(t instanceof i)return!0;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return 2===e.length&&e.every(ii)}function oi(t){if(t instanceof s)return!0;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return 3===e.length&&e.every(ii)}function li(t){return(Array.isArray(t)?t:t.split(",")).every(ii)}function hi(t){return(Array.isArray(t)?t:t.split(",")).every(ri)}var ci={props:{position:{type:Ze,validator:oi},rotation:{type:[String,n],validator:function(t){if(t instanceof n)return!0;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return 4===e.length&&e.slice(0,3).every(ii)&&/[XYZ]{3}/.test(e[3])}},rotationQuaternion:{type:[String,a],validator:function(t){if(t instanceof a)return!0;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return 4===e.length&&e.every(ii)}},scale:{type:Ze,validator:oi},castShadow:Be,receiveShadow:Be,name:{type:_e,validator:ni},hidden:Be},inject:{vglObject3d:{default:function(){return new Ce}},vglNamespace:{default:function(){throw new Error("VueGL components must be wraped by VglNamespace component.")}}},provide:function(){var t=this;return{vglObject3d:new Ce(this.vglObject3d,(function(){return t.inst}))}},computed:{inst:function(){return new o},parent:function(){return this.vglObject3d.inst()}},methods:{emitAsObject3d:function(){this.vglNamespace.object3ds.emit(this.name,this.inst)}},beforeDestroy:function(){this.inst.parent&&this.inst.parent.remove(this.inst),void 0!==this.name&&(this.vglObject3d.unlisten(this.emitAsObject3d),this.vglNamespace.object3ds.delete(this.name,this.inst))},watch:{inst:{handler:function(t,e){e&&e.parent&&e.parent.remove(e),this.parent&&this.parent.add(t),this.position&&t.position.copy(Me(this.position)),this.rotation&&t.rotation.copy(Te(this.rotation)),this.rotationQuaternion&&t.quaternion.copy(Ee(this.rotationQuaternion)),this.scale&&t.scale.copy(Me(this.scale)),Object.assign(t,{castShadow:this.castShadow,receiveShadow:this.receiveShadow,visible:!this.hidden,name:this.name}),void 0!==this.name&&this.vglNamespace.object3ds.set(this.name,t),e&&this.vglObject3d.emit()},immediate:!0},parent:function(t){t.add(this.inst)},name:[function(t){this.inst.name=t},{handler:function(t,e){void 0!==e&&(this.vglNamespace.object3ds.delete(e,this.inst),void 0===t&&this.vglObject3d.unlisten(this.emitAsObject3d)),void 0!==t&&(this.vglNamespace.object3ds.set(t,this.inst),void 0===e&&this.vglObject3d.listen(this.emitAsObject3d))},immediate:!0}],position:function(t){this.inst.position.copy(Me(t)),this.vglObject3d.emit()},rotation:function(t){this.inst.rotation.copy(Te(t)),this.vglObject3d.emit()},rotationQuaternion:function(t){this.inst.quaternion.copy(Ee(t)),this.vglObject3d.emit()},scale:function(t){this.inst.scale.copy(Me(t)),this.vglObject3d.emit()},castShadow:function(t){this.inst.castShadow=t,this.vglObject3d.emit()},receiveShadow:function(t){this.inst.receiveShadow=t,this.vglObject3d.emit()},hidden:function(t){this.inst.visible=!t,this.vglObject3d.emit()}},render:function(t){if(this.$slots.default)return t("div",{style:{display:"none"}},this.$slots.default)}},ui={mixins:[ci],props:{fog:[String,t],backgroundColor:Qe,backgroundTexture:{type:_e,validator:ni},name:{type:_e,required:!0,validator:ni}},computed:{inst:function(){return new l}},methods:{setBackgroundTexture:function(t){this.inst.background=t||null,this.vglObject3d.emit()},emitAsScene:function(){this.vglNamespace.scenes.emit(this.name,this.inst)}},created:function(){this.vglObject3d.listen(this.emitAsScene)},beforeDestroy:function(){void 0!==this.backgroundTexture&&this.vglNamespace.textures.unlisten(this.backgroundTexture,this.setBackgroundTexture),this.vglNamespace.scenes.delete(this.name,this.inst),this.vglObject3d.unlisten(this.emitAsScene)},watch:{inst:{handler:function(t){void 0!==this.fog&&(this.inst.fog=qe(this.fog)),void 0!==this.backgroundColor&&(this.inst.background=De(this.backgroundColor)),void 0!==this.backgroundTexture&&this.setBackgroundTexture(this.vglNamespace.textures.get(this.backgroundTexture)),this.vglNamespace.scenes.set(this.name,t)},immediate:!0},name:function(t,e){this.vglNamespace.scenes.delete(e,this.inst),this.vglNamespace.scenes.set(t,this.inst)},fog:function(t){this.inst.fog=qe(t),this.vglObject3d.emit()},backgroundColor:function(t){this.inst.background=De(t),this.vglObject3d.emit()},backgroundTexture:{handler:function(t,e){void 0!==e&&this.vglNamespace.textures.unlisten(e,this.setBackgroundTexture),void 0!==t&&(this.vglNamespace.textures.listen(t,this.setBackgroundTexture),this.setBackgroundTexture(this.vglNamespace.textures.get(t)))},immediate:!0}}},pi={mixins:[ci],props:{orbitTarget:{type:Ze,validator:oi},orbitPosition:{type:[String,r],validator:function(t){if(t instanceof r)return!0;var e=Array.isArray(t)?t:t.trim().split(/\s+/);return 3===e.length&&e.every(ii)}},name:{type:_e,required:!0,validator:ni}},computed:{inst:function(){return new h}},methods:{emitAsCamera:function(){this.vglNamespace.cameras.emit(this.name,this.inst)}},created:function(){this.vglObject3d.listen(this.emitAsCamera)},beforeDestroy:function(){this.vglObject3d.unlisten(this.emitAsCamera),this.vglNamespace.cameras.delete(this.name,this.inst)},watch:{inst:{handler:function(t){var e;(this.orbitPosition||this.orbitTarget)&&(this.orbitTarget&&(e=Me(this.orbitTarget)),this.orbitPosition&&(t.position.setFromSpherical($e(this.orbitPosition)),e&&t.position.add(e)),t.lookAt(e||new s));this.vglNamespace.cameras.set(this.name,t)},immediate:!0},name:function(t,e){this.vglNamespace.cameras.delete(e,this.inst),this.vglNamespace.cameras.set(t,this.inst)},orbitTarget:function(t){var e=Me(t);this.orbitPosition&&this.inst.position.setFromSpherical($e(this.orbitPosition)).add(e),this.inst.lookAt(e),this.vglObject3d.emit()},orbitPosition:function(t){if(this.inst.position.setFromSpherical($e(t)),this.orbitTarget){var e=Me(this.orbitTarget);this.inst.position.add(e),this.inst.lookAt(e)}else this.inst.lookAt(new s);this.vglObject3d.emit()}}};function di(t,e,i){if(t.isPerspectiveCamera)Object.assign(t,{aspect:e/i});else{if(!t.isOrthographicCamera)throw new TypeError("Unknown camera type.");Object.assign(t,{left:-e/2,right:e/2,top:i/2,bottom:-i/2})}t.updateProjectionMatrix()}var mi={mixins:[Ie],props:{camera:{type:_e,required:!0,validator:ni},scene:{type:_e,required:!0,validator:ni},alpha:Be,disablePremultipliedAlpha:Be,antialias:Be,disableStencil:Be,preserveDrawingBuffer:Be,disableDepth:Be,logarithmicDepthBuffer:Be,shadowMapEnabled:Be,precision:{type:Qe,validator:function(t){return/^(highp|mediump|lowp)$/.test(t)}},powerPreference:{type:Qe,validator:function(t){return/^(high-performance|low-power|default)$/.test(t)}}},computed:{inst:function(){var t=new c({precision:this.precision,alpha:this.alpha,premultipliedAlpha:!this.disablePremultipliedAlpha,antialias:this.antialias,stencil:!this.disableStencil,preserveDrawingBuffer:this.preserveDrawingBuffer,depth:!this.disableDepth,logarithmicDepthBuffer:this.logarithmicDepthBuffer,powerPreference:this.powerPreference});return t.shadowMap.enabled=this.shadowMapEnabled,t}},methods:{setCameraRef:function(t){this.cameraRef=t,this.$el&&(t&&di(t,this.$el.clientWidth,this.$el.clientHeight),this.requestRender(t&&this.sceneRef))},setSceneRef:function(t){this.sceneRef=t,this.$el&&this.requestRender(t&&this.cameraRef)},setFallbackCamera:function(t){var e=t.keys();this.setCameraRef(1===e.length?t.get(e[0]):void 0)},setFallbackScene:function(t){var e=t.keys();this.setSceneRef(1===e.length?t.get(e[0]):void 0)},requestRender:function(){var t=this;this.reservation||this.$nextTick((function(){if(t.reservation>0)t.inst.render(t.sceneRef,t.cameraRef);else{if(!t.cameraRef&&t.vglNamespace.cameras.keys().length){if(void 0===t.camera){var e=t.vglNamespace.cameras.keys().length;throw new ReferenceError("Cannot identify the camera. Multiple(".concat(e,") cameras are defined but camera prop is not given."))}throw new ReferenceError("Cannot identify the camera. The camera named ".concat(t.camera," is not defined."))}if(!t.sceneRef&&t.vglNamespace.scenes.keys().length){if(void 0===t.scene){var i=t.vglNamespace.cameras.keys().length;throw new ReferenceError("Cannot identify the scene. Multiple(".concat(i,") scenes are defined but scene prop is not given."))}throw new ReferenceError("Cannot identify the scene. The scene named ".concat(t.scene," is not defined."))}}t.reservation=0})),this.reservation=!arguments.length||(arguments.length<=0?void 0:arguments[0])?1:-1}},mounted:function(){this.inst.setSize(this.$el.clientWidth,this.$el.clientHeight),this.$el.appendChild(this.inst.domElement),this.cameraRef&&di(this.cameraRef,this.$el.clientWidth,this.$el.clientHeight),this.requestRender(this.cameraRef&&this.sceneRef)},beforeDestroy:function(){void 0===this.camera?this.vglNamespace.cameras.unlisten(this.setFallbackCamera):this.vglNamespace.cameras.unlisten(this.camera,this.setCameraRef),void 0===this.scene?this.vglNamespace.scenes.unlisten(this.setFallbackScene):this.vglNamespace.scenes.unlisten(this.scene,this.setSceneRef),this.inst.dispose()},watch:{inst:function(t,e){this.$el&&(t.setSize(this.$el.clientWidth,this.$el.clientHeight),this.$el.replaceChild(t.domElement,e.domElement),this.cameraRef&&this.sceneRef&&this.requestRender()),e.dispose()},camera:{handler:function(t,e){void 0===e?this.vglNamespace.cameras.unlisten(this.setFallbackCamera):this.vglNamespace.cameras.unlisten(e,this.setCameraRef),void 0===t?(this.vglNamespace.cameras.listen(this.setFallbackCamera),this.setFallbackCamera(this.vglNamespace.cameras)):(this.vglNamespace.cameras.listen(t,this.setCameraRef),this.setCameraRef(this.vglNamespace.cameras.get(t)))},immediate:!0},scene:{handler:function(t,e){void 0===e?this.vglNamespace.scenes.unlisten(this.setFallbackScene):this.vglNamespace.scenes.unlisten(e,this.setSceneRef),void 0===t?(this.vglNamespace.scenes.listen(this.setFallbackScene),this.setFallbackScene(this.vglNamespace.scenes)):(this.vglNamespace.scenes.listen(t,this.setSceneRef),this.setSceneRef(this.vglNamespace.scenes.get(t)))},immediate:!0}},render:function(t){var e=this;return t("div",[t("iframe",{style:{visibility:"hidden",width:"100%",height:"100%",marginRight:"-100%",border:"none"},on:{load:function(t){t.target.contentWindow.addEventListener("resize",(function(){e.inst.setSize(e.$el.clientWidth,e.$el.clientHeight),e.cameraRef&&(di(e.cameraRef,e.$el.clientWidth,e.$el.clientHeight),e.sceneRef&&e.requestRender())}),!1)}}},this.$slots.default)])}},fi={mixins:[pi],props:{zoom:{type:We,default:1},near:{type:We,default:.1},far:{type:We,default:2e3},fov:{type:We,default:50}},computed:{inst:function(){return new u}},watch:{inst:{handler:function(t){Object.assign(t,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far),fov:parseFloat(this.fov)})},immediate:!0},zoom:function(t){this.inst.zoom=parseFloat(t),this.vglObject3d.emit()},near:function(t){this.inst.near=parseFloat(t),this.vglObject3d.emit()},far:function(t){this.inst.far=parseFloat(t),this.vglObject3d.emit()},fov:function(t){this.inst.fov=parseFloat(t),this.vglObject3d.emit()}}},gi={mixins:[ci],computed:{inst:function(){return new p}}},vi={mixins:[ci],props:{color:{type:Xe,default:"#fff"},intensity:{type:We,default:1}},computed:{inst:function(){return new d}},watch:{inst:{handler:function(t){t.color.setStyle(this.color),Object.assign(t,{intensity:parseFloat(this.intensity)})},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.vglObject3d.emit()},intensity:function(t){this.inst.intensity=parseFloat(t),this.vglObject3d.emit()}}},yi={mixins:[vi],computed:{inst:function(){return new m}}},bi={mixins:[vi],computed:{inst:function(){return new f}}},wi={front:v,back:y,double:b},Si={inject:{vglNamespace:{default:function(){throw new Error("VueGL components must be wraped by VglNamespace component.")}}},props:{name:{type:_e,required:!0,validator:ni},side:{type:Qe,default:"front"},vertexColors:{type:Be}},computed:{inst:function(){return new g}},methods:{update:function(){void 0!==this.name&&this.vglNamespace.materials.emit(this.name,this.inst)}},watch:{inst:{handler:function(t){t.setValues({side:wi[this.side],vertexColors:this.vertexColors}),this.vglNamespace.materials.set(this.name,t)},immediate:!0},name:function(t,e){void 0!==e&&this.vglNamespace.materials.delete(e,this.inst),void 0!==t&&this.vglNamespace.materials.set(t,this.inst)},side:function(t){this.inst.side=wi[t],this.update()},vertexColors:function(t){this.inst.vertexColors=t,this.update()}},beforeDestroy:function(){void 0!==this.name&&this.vglNamespace.materials.delete(this.name,this.inst)},render:function(t){if(this.$slots.default)return t("div",{style:{display:"none"}},this.$slots.default)}},Fi={mixins:[Si],props:{color:{type:Xe,default:"#fff"},size:{type:We,default:1},disableSizeAttenuation:Be},computed:{inst:function(){return new w}},watch:{inst:{handler:function(t){Object.assign(t,{size:parseFloat(this.size),sizeAttenuation:!this.disableSizeAttenuation}),t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()},size:function(t){this.inst.size=parseFloat(t),this.update()},disableSizeAttenuation:function(t){this.inst.sizeAttenuation=!t,this.update()}}},ji={inject:{vglNamespace:{default:function(){throw new Error("VueGL components must be wraped by VglNamespace component.")}}},props:{name:{type:_e,required:!0,validator:ni},positionAttribute:{type:Je,validator:li},colorAttribute:{type:Je,validator:li},normalAttribute:{type:Je,validator:li}},computed:{inst:function(){return new S}},methods:{update:function(){void 0!==this.name&&this.vglNamespace.geometries.emit(this.name,this.inst)}},beforeDestroy:function(){void 0!==this.name&&this.vglNamespace.geometries.delete(this.name,this.inst),this.inst.dispose()},watch:{inst:{handler:function(t,e){if(this.positionAttribute){var i=e?e.getAttribute("position"):new F(new Float32Array(Ge(this.positionAttribute)),3);t.setAttribute("position",i)}if(this.colorAttribute){var s=e?e.getAttribute("color"):new F(new Float32Array(Ge(this.colorAttribute)),3);t.setAttribute("color",s)}if(this.normalAttribute){var n=e?e.getAttribute("normal"):new F(new Float32Array(Ge(this.normalAttribute)),3);t.setAttribute("normal",n)}e&&e.dispose(),this.vglNamespace.geometries.set(this.name,t)},immediate:!0},name:function(t,e){void 0!==e&&this.vglNamespace.geometries.delete(e,this.inst),void 0!==t&&this.vglNamespace.geometries.set(t,this.inst)},positionAttribute:function(t){var e=Ge(t),i=this.inst.getAttribute("position");if(i.array.length===e.length)i.copyArray(e);else{var s=i.version;(i=new F(new Float32Array(e),3)).version=s,this.inst.setAttribute("position",i)}i.needsUpdate=!0,this.update()},colorAttribute:function(t){var e=Ge(t),i=this.inst.getAttribute("color");if(i.array.length===e.length)i.copyArray(e);else{var s=i.version;(i=new F(new Float32Array(e),3)).version=s,this.inst.setAttribute("color",i)}i.needsUpdate=!0,this.update()},normalAttribute:function(t){var e=Ge(t),i=this.inst.getAttribute("normal");if(i.array.length===e.length)i.copyArray(e);else{var s=i.version;(i=new F(new Float32Array(e),3)).version=s,this.inst.setAttribute("normal",i)}i.needsUpdate=!0,this.update()}},render:function(t){if(this.$slots.default)return t("div",{style:{display:"none"}},this.$slots.default)}},Ni={mixins:[ji],props:{radius:{type:We,default:1},widthSegments:{type:He,default:8},heightSegments:{type:He,default:6},phiStart:{type:We,default:0},phiLength:{type:We,default:2*Math.PI},thetaStart:{type:We,default:0},thetaLength:{type:We,default:Math.PI}},computed:{inst:function(){return new j(parseFloat(this.radius),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseFloat(this.phiStart),parseFloat(this.phiLength),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},xi={mixins:[ci],methods:{setMaterial:function(){var t=this.vglNamespace.materials,e=this.inst,i=ze(this.material).reduce((function(e,i){return t.get(i)?[].concat(ke(e),[t.get(i)]):e}),[]);e.material=1===i.length?i[0]:i,this.vglObject3d.emit()}},watch:{inst:function(){void 0!==this.material&&this.setMaterial()},material:{handler:function(t,e){var i=this.vglNamespace.materials,s=this.setMaterial;void 0!==e&&ze(e).forEach((function(t){return i.unlisten(t,s)})),void 0!==t&&(ze(t).forEach((function(t){return i.listen(t,s)})),s())},immediate:!0}},beforeDestroy:function(){var t=this.vglNamespace.materials,e=this.material,i=this.setMaterial;ze(e).forEach((function(e){return t.unlisten(e,i)}))}},Oi={mixins:[xi],methods:{setGeometry:function(t){t&&(this.inst.geometry=t,this.vglObject3d.emit(),void 0!==this.name&&this.vglNamespace.object3ds.emit(this.name,this.inst))}},watch:{inst:function(){void 0!==this.geometry&&this.setGeometry(this.vglNamespace.geometries.get(this.geometry))},geometry:{handler:function(t,e){var i=this.vglNamespace.geometries,s=this.setGeometry;void 0!==e&&i.unlisten(e,s),void 0!==t&&(i.listen(t,s),s(i.get(t)))},immediate:!0}},beforeDestroy:function(){this.vglNamespace.geometries.unlisten(this.geometry,this.setGeometry)}},Ai={mixins:[Si],methods:{setMap:function(){var t=this.vglNamespace.textures,e=this.inst,i=this.map;t.keys().includes(i)&&(e.map=t.get(i)),this.vglNamespace.materials.emit(this.name,e)}},watch:{inst:function(){void 0!==this.map&&this.setMap(this.vglNamespace.textures.get(this.map))},map:{handler:function(t,e){var i=this.vglNamespace.textures,s=this.setMap;void 0!==e&&i.unlisten(e,s),void 0!==t&&(i.listen(t,s),s(i.get(t)))},immediate:!0}},beforeDestroy:function(){this.vglNamespace.textures.unlisten(this.map,this.setMap)}},ki={mixins:[ji],data:function(){return{shapeNames:[]}},computed:{shapeObjects:function(){var t=this;return this.shapeNames.map((function(e){var i=Ae(e,1)[0];return t.vglNamespace.curves.get(i)}))}},methods:{setShapeNames:function(){var t=this,e=ze(this.shapes);this.shapeNames=e.map((function(e){return[e,t.vglNamespace.curves.get(e).uuid]})),this.update()}},beforeDestroy:function(){var t=this;void 0!==this.shapes&&ze(this.shapes).forEach((function(e){t.vglNamespace.curves.unlisten(e,t.setShapeUuids)}))},watch:{shapes:{handler:function(t,e){var i=this,s=void 0===e?[]:ze(e),n=void 0===t?[]:ze(t);s.forEach((function(t){n.includes(t)||i.vglNamespace.curves.unlisten(t,i.setShapeNames)})),n.forEach((function(t){s.includes(t)||i.vglNamespace.curves.listen(t,i.setShapeNames)})),void 0!==t&&this.setShapeNames()},immediate:!0}}},Li={mixins:[Ai],props:{color:{type:Xe,default:"#fff"},map:{type:_e,validator:ni}},computed:{inst:function(){return new N}},watch:{inst:{handler:function(t){t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()}}},Vi={mixins:[Oi],props:{geometry:{type:_e,validator:ni},material:{type:Ke,validator:ai}},computed:{inst:function(){return new x}}},Ri={mixins:[Oi],props:{geometry:{type:_e,validator:ni},material:{type:_e,validator:ni}},computed:{inst:function(){return new O}}},Ii={mixins:[Si],props:{color:{type:Xe,default:"#fff"},linewidth:{type:We,default:1},linecap:{type:Qe,default:"round",validator:function(t){return/^(butt|round|square)$/.test(t)}},linejoin:{type:Qe,default:"round",validator:function(t){return/^(round|bevel|miter)$/.test(t)}}},computed:{inst:function(){return new A}},watch:{inst:{handler:function(t){Object.assign(t,{linecap:this.linecap,linejoin:this.linejoin,linewidth:parseFloat(this.linewidth)}),t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()},linewidth:function(t){this.inst.linewidth=parseFloat(t),this.update()},linecap:function(t){this.inst.linecap=t,this.update()},linejoin:function(t){this.inst.linejoin=t,this.update()}}},Ci={mixins:[Oi],props:{geometry:{type:_e,validator:ni},material:{type:_e,validator:ni}},computed:{inst:function(){return new k}},methods:{computeLineDistances:function(){this.inst.material.isLineDashedMaterial&&this.inst.computeLineDistances()}},beforeDestroy:function(){void 0!==this.geometry&&this.vglNamespace.geometries.unlisten(this.geometry,this.computeLineDistances),void 0!==this.material&&this.vglNamespace.materials.unlisten(this.material,this.computeLineDistances)},watch:{geometry:{handler:function(t,e){void 0!==e&&this.vglNamespace.geometries.unlisten(e,this.computeLineDistances),void 0!==t&&(this.vglNamespace.geometries.listen(t,this.computeLineDistances),this.computeLineDistances())},immediate:!0},material:{handler:function(t,e){void 0!==e&&this.vglNamespace.materials.unlisten(e,this.computeLineDistances),void 0!==t&&(this.vglNamespace.materials.listen(t,this.computeLineDistances),this.computeLineDistances())},immediate:!0}}},zi={mixins:[xi],props:{material:{type:_e,validator:ni}},computed:{inst:function(){return new L}}},Di={mixins:[ji],props:{width:{type:We,default:1},height:{type:We,default:1},depth:{type:We,default:1},widthSegments:{type:He,default:1},heightSegments:{type:He,default:1},depthSegments:{type:He,default:1}},computed:{inst:function(){return new V(parseFloat(this.width),parseFloat(this.height),parseFloat(this.depth),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseInt(this.depthSegments,10))}}},Pi={mixins:[ji],props:{radius:{type:We,default:1},segments:{type:He,default:8},thetaStart:{type:We,default:0},thetaLength:{type:We,default:2*Math.PI}},computed:{inst:function(){return new R(parseFloat(this.radius),parseInt(this.segments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},Mi={mixins:[Ci],computed:{inst:function(){return new I}}},Ti={mixins:[Ci],computed:{inst:function(){return new C}}},Ei={mixins:[ji],props:{radiusTop:{type:We,default:1},radiusBottom:{type:We,default:1},height:{type:We,default:1},radialSegments:{type:He,default:8},heightSegments:{type:He,default:1},openEnded:Be,thetaStart:{type:We,default:0},thetaLength:{type:We,default:2*Math.PI}},computed:{inst:function(){return new z(parseFloat(this.radiusTop),parseFloat(this.radiusBottom),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},$i={mixins:[Ei],props:{radius:{type:We,default:1}},computed:{inst:function(){return new D(parseFloat(this.radius),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},Gi={mixins:[ci],props:{size:{type:We,default:1}},computed:{inst:function(){return new P(parseFloat(this.size))}}},Ui={mixins:[pi],props:{zoom:{type:We,default:1},near:{type:We,default:.1},far:{type:We,default:2e3}},computed:{inst:function(){return new M}},watch:{inst:{handler:function(t){Object.assign(t,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far)})},immediate:!0},zoom:function(t){this.inst.zoom=parseFloat(t),this.vglObject3d.emit()},near:function(t){this.inst.near=parseFloat(t),this.vglObject3d.emit()},far:function(t){this.inst.far=parseFloat(t),this.vglObject3d.emit()}}},qi={mixins:[ji],props:{width:{type:We,default:1},height:{type:We,default:1},widthSegments:{type:He,default:1},heightSegments:{type:He,default:1}},computed:{inst:function(){return new T(parseFloat(this.width),parseFloat(this.height),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10))}}},Bi={mixins:[ji],props:{radius:{type:We,default:1},detail:{type:He,default:0}},computed:{inst:function(){return new E(parseFloat(this.radius),parseInt(this.detail,10))}}},Hi={mixins:[ji],props:{radius:{type:We,default:1},detail:{type:He,default:0}},computed:{inst:function(){return new $(parseFloat(this.radius),parseInt(this.detail,10))}}},Wi={mixins:[ji],props:{radius:{type:We,default:1},detail:{type:He,default:0}},computed:{inst:function(){return new G(parseFloat(this.radius),parseInt(this.detail,10))}}},Qi={mixins:[ji],props:{innerRadius:{type:We,default:.5},outerRadius:{type:We,default:1},thetaSegments:{type:He,default:8},phiSegments:{type:He,default:1},thetaStart:{type:We,default:0},thetaLength:{type:We,default:2*Math.PI}},computed:{inst:function(){return new U(parseFloat(this.innerRadius),parseFloat(this.outerRadius),parseInt(this.thetaSegments,10),parseInt(this.phiSegments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},_i={mixins:[ji],props:{radius:{type:We,default:1},detail:{type:He,default:0}},computed:{inst:function(){return new q(parseFloat(this.radius),parseInt(this.detail,10))}}},Ki={mixins:[ji],props:{radius:{type:We,default:1},tube:{type:We,default:.4},radialSegments:{type:He,default:8},tubularSegments:{type:He,default:6},arc:{type:We,default:2*Math.PI}},computed:{inst:function(){return new B(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.radialSegments,10),parseInt(this.tubularSegments,10),parseFloat(this.arc))}}},Xi={mixins:[ji],props:{radius:{type:We,default:1},tube:{type:We,default:.4},radialSegments:{type:He,default:8},tubularSegments:{type:He,default:64},p:{type:He,default:2},q:{type:He,default:3}},computed:{inst:function(){return new H(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.tubularSegments,10),parseInt(this.radialSegments,10),parseInt(this.p,10),parseInt(this.q,10))}}},Yi={mixins:[ci],props:{dir:{type:Ze,validator:oi},length:{type:We,default:1},color:{type:Xe,default:"#ff0"},headLength:We,headWidth:We},computed:{inst:function(){return new W(new s(0,1,0),new s)},len:function(){return[parseFloat(this.length),void 0!==this.headLength?parseFloat(this.headLength):void 0,void 0!==this.headWidth?parseFloat(this.headWidth):void 0]}},watch:{inst:{handler:function(t){this.dir&&t.setDirection(Me(this.dir).normalize()),t.setLength.apply(t,ke(this.len)),t.setColor(new e(this.color))},immediate:!0},dir:function(t){this.inst.setDirection(Me(t).normalize()),this.vglObject3d.emit()},len:function(t){var e;(e=this.inst).setLength.apply(e,ke(t)),this.vglObject3d.emit()},color:function(t){this.inst.setColor(new e(t)),this.vglObject3d.emit()}}},Zi={mixins:[ci],props:{color:{type:Xe,default:"#ff0"},object:{type:_e,required:!0,validator:ni}},computed:{inst:function(){return new Q(void 0,this.color)}},methods:{setFromObject:function(t){this.inst.setFromObject(t)}},beforeDestroy:function(){void 0!==this.object&&this.vglNamespace.object3ds.unlisten(this.object,this.setFromObject)},watch:{inst:function(){void 0!==this.object&&this.setFromObject(this.vglNamespace.object3ds.get(this.object))},object:{handler:function(t,e){var i=this.vglNamespace.object3ds,s=this.setFromObject;void 0!==e&&i.unlisten(e,s),void 0!==t&&(i.listen(t,s),s(this.vglNamespace.object3ds.get(t)))},immediate:!0}}},Ji={mixins:[vi],props:{distance:{type:We,default:0},decay:{type:We,default:1}},computed:{inst:function(){return new _}},watch:{inst:{handler:function(t){Object.assign(t,{distance:parseFloat(this.distance),decay:parseFloat(this.decay)})},immediate:!0},distance:function(t){this.inst.distance=parseFloat(t),this.vglObject3d.emit()},decay:function(t){this.inst.decay=parseFloat(t),this.vglObject3d.emit()}}},ts={mixins:[vi],props:{distance:{type:We,default:0},decay:{type:We,default:1},angle:{type:We,default:Math.PI/3},penumbra:{type:We,default:0},target:{type:Ze,validator:oi}},computed:{inst:function(){return new K}},beforeDestroy:function(){this.inst.target.parent&&this.inst.target.parent.remove(this.inst.target)},watch:{inst:{handler:function(t){Object.assign(t,{distance:parseFloat(this.distance),decay:parseFloat(this.decay),angle:parseFloat(this.angle),penumbra:parseFloat(this.penumbra)}),this.target&&t.target.position.copy(Me(this.target)),this.parent&&this.parent.add(t.target)},immediate:!0},parent:function(t){t.add(this.inst.target)},distance:function(t){this.inst.distance=parseFloat(t),this.vglObject3d.emit()},decay:function(t){this.inst.decay=parseFloat(t),this.vglObject3d.emit()},angle:function(t){this.inst.angle=parseFloat(t),this.vglObject3d.emit()},penumbra:function(t){this.inst.penumbra=parseFloat(t),this.vglObject3d.emit()},target:function(t){this.inst.target.position.copy(Me(t)),this.vglObject3d.emit()}}},es={uv:Y,"cube-reflection":Z,"cube-refraction":J,"equirectangular-reflection":tt,"equirectangular-refraction":et,"spherical-reflection":it,"cube-uv-reflection":st,"cube-uv-refraction":nt},is={repeat:at,"clamp-to-edge":rt,"mirrored-repeat":ot},ss={nearest:lt,"nearest-mip-map-nearest":ht,"nearest-mip-map-linear":ct,linear:ut,"linear-mip-map-nearest":pt,"linear-mip-map-linear":dt},ns={alpha:mt,rgb:ft,rgba:gt,luminance:vt,"luminance-alpha":yt,rgbe:bt,depth:wt,"depth-stencil":St},as={"unsigned-byte":Ft,byte:jt,short:Nt,"unsigned-short":xt,int:Ot,"unsigned-int":At,float:kt,"half-float":Lt,"unsigned-short-4444":Vt,"unsigned-short-5551":Rt,"unsigned-short-565":It,"unsigned-int-248":Ct},rs={linear:zt,"s-rgb":Dt,gamma:Pt,rgbe:Mt,"log-luv":Tt,rgbm7:Et,rgbm16:$t,rgbde:Gt,"basic-depth":Ut,"rgba-depth":qt},os={inject:{vglNamespace:{default:function(){throw new Error("VueGL components must be wraped by VglNamespace component.")}}},props:{src:Qe,name:{type:_e,required:!0,validator:ni},mapping:{type:Qe,default:"uv"},wrapS:{type:Qe,default:"clamp-to-edge"},wrapT:{type:Qe,default:"clamp-to-edge"},magFilter:{type:Qe,default:"linear"},minFilter:{type:Qe,default:"linear-mip-map-linear"},anisotropy:{type:He,default:1},format:Qe,type:{type:Qe,default:"unsigned-byte"},offset:{type:Ye,validator:ri},repeat:{type:Ye,validator:ri},rotation:{type:We,default:0},center:{type:Ye,validator:ri},premultiplyAlpha:Be,unpackAlignment:{type:He,default:4},encoding:{type:Qe,default:"linear"}},computed:{inst:function(){var t=this;return(new X).load(this.src,(function(e){t.format&&Object.assign(e,{format:ns[t.format]}),t.update()}))}},methods:{update:function(){void 0!==this.name&&this.vglNamespace.textures.emit(this.name,this.inst)}},beforeDestroy:function(){void 0!==this.name&&this.vglNamespace.textures.delete(this.name,this.inst)},watch:{inst:{handler:function(t){Object.assign(t,{mapping:es[this.mapping],wrapS:is[this.wrapS],wrapT:is[this.wrapT],magFilter:ss[this.magFilter],minFilter:ss[this.minFilter],anisotropy:parseInt(this.anisotropy,10),type:as[this.type],rotation:parseFloat(this.rotation),premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:parseInt(this.unpackAlignment,10),encoding:rs[this.encoding]}),this.offset&&t.offset.copy(Pe(this.offset)),this.repeat&&t.repeat.copy(Pe(this.repeat)),this.center&&t.center.copy(Pe(this.center)),void 0!==this.name&&this.vglNamespace.textures.set(this.name,t)},immediate:!0},name:function(t,e){void 0!==e&&this.vglNamespace.textures.delete(e,this.inst),void 0!==t&&this.vglNamespace.textures.set(t,this.inst)},mapping:function(t){this.inst.mapping=es[t],this.update()},wrapS:function(t){this.inst.wrapS=is[t],this.update()},wrapT:function(t){this.inst.wrapT=is[t],this.update()},magFilter:function(t){this.inst.magFilter=ss[t],this.update()},minFilter:function(t){this.inst.minFilter=ss[t],this.update()},anisotropy:function(t){this.inst.anisotropy=parseInt(t,10),this.update()},format:function(t){this.inst.format=ns[t],this.update()},type:function(t){this.inst.type=as[t],this.update()},offset:function(t){this.inst.offset.copy(Pe(t)),this.update()},repeat:function(t){this.inst.repeat.copy(Pe(t)),this.update()},rotation:function(t){this.inst.rotation=parseFloat(t),this.update()},center:function(t){this.inst.center.copy(Pe(t)),this.update()},premultiplyAlpha:function(t){this.inst.premultiplyAlpha=t,this.update()},unpackAlignment:function(t){this.inst.unpackAlignment=parseInt(t,10),this.update()},encoding:function(t){this.inst.encoding=rs[t],this.update()}},render:function(t){if(this.$slots.default)return t("div",{style:{display:"none"}},this.$slots.default)}},ls={mixins:[ki],props:{shapes:{type:Ke,validator:ai},curveSegments:He,steps:He,depth:We,bevelEnabled:Be,bevelThickness:We,bevelSize:We,bevelOffset:We,bevelSegments:He,extrudePath:Object,uvGenerator:Object},computed:{options:function(){var t=this.curveSegments,e=this.steps,i=this.depth,s=this.bevelEnabled,n=this.bevelThickness,a=this.bevelSize,r=this.bevelOffset,o=this.bevelSegments,l=this.extrudePath,h=this.uvGenerator;return je(je(je(je(je(je(je(je(je(je({},null!=t&&{curveSegments:parseInt(t,10)}),null!=e&&{steps:parseInt(e,10)}),null!=i&&{depth:parseFloat(i)}),null!=s&&{bevelEnabled:s}),null!=n&&{bevelThickness:parseFloat(n)}),null!=a&&{bevelSize:parseFloat(a)}),null!=r&&{bevelOffset:parseFloat(r)}),null!=o&&{bevelSegments:parseInt(o,10)}),null!=l&&{extrudePath:l}),null!=h&&{UVGenerator:h})},inst:function(){return new Bt(this.shapeObjects,this.options)}}},hs=Object.create(null),cs={mixins:[ls],props:{text:{type:Qe,default:""},font:Qe,size:{type:We,default:100},height:{type:We,default:50},curveSegments:{type:He,default:12},bevelEnabled:Be,bevelThickness:{type:We,default:10},bevelSize:{type:We,default:8},bevelSegments:{type:He,default:3}},data:function(){return{f:void 0}},computed:{inst:function(){return void 0!==this.f?new Ht(this.text,{font:hs[this.f],size:parseFloat(this.size),height:parseFloat(this.height),curveSegments:parseInt(this.curveSegments,10),bevelEnabled:this.bevelEnabled,bevelThickness:parseFloat(this.bevelThickness),bevelSize:parseFloat(this.bevelSize),bevelSegments:parseInt(this.bevelSegments,10)}):new S}},watch:{font:{handler:function(t){var e=this;hs[t]?hs[t].isFont?this.f=t:hs[t].push((function(){t===e.font&&(e.f=t)})):(hs[t]=[function(){t===e.font&&(e.f=t)}],(new Wt).load(t,(function(i){var s=hs[t];hs[t]=i,s.forEach((function(t){t()})),e.vglNamespace.geometries.emit(e.name,e.inst)}))),this.vglNamespace.geometries.emit(this.name,this.inst)},immediate:!0}}},us={mixins:[Ai],props:{color:{type:Xe,default:"#fff"},map:{type:_e,validator:ni}},computed:{inst:function(){return new Qt}},watch:{inst:{handler:function(t){t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()}}},ps={mixins:[ci],props:{size:{type:We,default:10},divisions:{type:He,default:10},colorCenterLine:{type:Xe,default:"#444444"},colorGrid:{type:Xe,default:"#888888"}},computed:{inst:function(){return new _t(parseFloat(this.size),parseInt(this.divisions,10),this.colorCenterLine,this.colorGrid)}}},ds={mixins:[Si],computed:{inst:function(){return new Kt}}},ms={mixins:[ci],props:{camera:{type:_e,required:!0,validator:ni}},data:function(){return{exist:!1}},computed:{inst:function(){if(!this.exist)return new o;var t=this.vglNamespace.cameras.get(this.camera);return t.updateProjectionMatrix(),new Xt(t)}},methods:{update:function(t){t?(this.exist=!0,t.updateProjectionMatrix(),this.inst.camera=t,this.inst.update(),this.vglObject3d.emit()):this.exist=!1}},beforeDestroy:function(){this.vglNamespace.cameras.unlisten(this.camera,this.update)},watch:{camera:{handler:function(t,e){void 0!==e&&this.vglNamespace.cameras.unlisten(e,this.update),this.vglNamespace.cameras.listen(t,this.update),this.exist=!!this.vglNamespace.cameras.get(t)},immediate:!0}}},fs={mixins:[ci],props:{color:Xe,size:{type:We,default:1},light:{type:_e,required:!0,validator:ni}},data:function(){return{lightUuid:null}},computed:{inst:function(){if(!this.lightUuid)return new o;var t=this.vglNamespace.object3ds.get(this.light);return new Yt(t,parseFloat(this.size))}},methods:{setLightUuid:function(t){this.lightUuid=t?t.uuid:null,this.inst.update()}},beforeDestroy:function(){void 0!==this.light&&this.vglNamespace.object3ds.unlisten(this.light,this.setLightUuid)},watch:{inst:function(t){this.lightUuid&&void 0!==this.color&&Object.assign(t,{color:this.color}).update()},light:{handler:function(t,e){if(void 0!==e&&this.vglNamespace.object3ds.unlisten(e,this.setLightUuid),void 0!==t){this.vglNamespace.object3ds.listen(t,this.setLightUuid);var i=this.vglNamespace.object3ds.get(this.light);this.setLightUuid(i)}},immediate:!0},color:{handler:function(t){this.lightUuid&&(this.inst.color=t,this.inst.update())},immediate:!0}}},gs={mixins:[ci],props:{radius:{type:We,default:10},radials:{type:He,default:16},circles:{type:He,default:8},divisions:{type:He,default:64},color1:{type:Xe,default:"#444444"},color2:{type:Xe,default:"#888888"}},computed:{inst:function(){return new Zt(parseFloat(this.radius),parseInt(this.radials,10),parseInt(this.circles,10),parseInt(this.divisions,10),this.color1,this.color2)}}},vs={mixins:[Ai],props:{color:{type:Xe,default:"#fff"},map:{type:_e,validator:ni}},computed:{inst:function(){return new Jt}},watch:{inst:{handler:function(t){t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()}}},ys={mixins:[Ai],props:{fog:Be,map:{type:_e,validator:ni}},computed:{inst:function(){return new te}},watch:{inst:{handler:function(t){Object.assign(t,{fog:this.fog})},immediate:!0},fog:function(t){this.inst.fog=t,this.update()}}},bs={mixins:[Ai],props:{color:{type:Xe,default:"#fff"},map:{type:_e,validator:ni}},computed:{inst:function(){return new ee}},watch:{inst:{handler:function(t){t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()}}},ws={mixins:[Si],props:{color:{type:Xe,default:"#fff"},linewidth:{type:We,default:1},dashSize:{type:We,default:3},gapSize:{type:We,default:1}},computed:{inst:function(){return new ie}},watch:{inst:{handler:function(t){Object.assign(t,{dashSize:parseFloat(this.dashSize),gapSize:parseFloat(this.gapSize),linewidth:parseFloat(this.linewidth)}),t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()},linewidth:function(t){this.inst.linewidth=parseFloat(t),this.update()},dashSize:function(t){this.inst.dashSize=parseFloat(t),this.update()},gapSize:function(t){this.inst.gapSize=parseFloat(t),this.update()}}},Ss={mixins:[Si],props:{fog:Be},computed:{inst:function(){return new se}},watch:{inst:{handler:function(t){Object.assign(t,{fog:this.fog})},immediate:!0},fog:function(t){this.inst.fog=t,this.update()}}},Fs={mixins:[Ai],props:{color:{type:Xe,default:"#fff"},map:{type:_e,validator:ni},specular:{type:Xe,default:"#111111"},shininess:{type:We,default:30}},computed:{inst:function(){return new ne}},watch:{inst:{handler:function(t){Object.assign(t,{shininess:parseFloat(this.shininess)}),t.specular.setStyle(this.specular),t.color.setStyle(this.color)},immediate:!0},color:function(t){this.inst.color.setStyle(t),this.update()},specular:function(t){this.inst.specular.setStyle(t),this.update()},shininess:function(t){this.inst.shininess=parseFloat(t),this.update()}}},js={mixins:[Fs],computed:{inst:function(){return new ae}}},Ns={mixins:[Li],props:{clearcoat:{type:We,default:0},clearcoatRoughness:{type:We,default:0},reflectivity:{type:We,default:.5}},computed:{inst:function(){return new re}},watch:{inst:{handler:function(t){Object.assign(t,{clearcoat:parseFloat(this.clearcoat),clearcoatRoughness:parseFloat(this.clearcoatRoughness),reflectivity:parseFloat(this.reflectivity)})},immediate:!0},clearcoat:function(t){this.inst.clearcoat=parseFloat(t),this.update()},clearcoatRoughness:function(t){this.inst.clearcoatRoughness=parseFloat(t),this.update()},reflectivity:function(t){this.inst.reflectivity=parseFloat(t),this.update()}}},xs={mixins:[Ai],props:{defines:{type:Object,default:function(){return{}}},fog:{type:Be,default:!1},fragmentShader:{type:Qe},lights:{type:Be,default:!1},linewidth:{type:We,default:1},flatShading:{type:Be,default:!1},uniforms:{type:Object,default:function(){return{}}},vertexShader:{type:Qe},wireframe:{type:Be,default:!1},wireframeLinewidth:{type:We,default:1}},computed:{inst:function(){return new oe({fog:this.fog,lights:this.lights})}},watch:{inst:{handler:function(t){Object.assign(t,{defines:this.defines,fog:this.fog,fragmentShader:this.fragmentShader||t.fragmentShader,lights:this.lights,linewidth:parseFloat(this.linewidth),flatShading:this.flatShading,uniforms:this.uniforms,vertexShader:this.vertexShader||t.vertexShader,wireframe:this.wireframe,wireframeLinewidth:parseFloat(this.wireframeLinewidth)})},immediate:!0},defines:{handler:function(t){this.inst.defines=t,this.update()},deep:!0},fragmentShader:function(t){this.inst.fragmentShader=t,this.update()},linewidth:function(t){this.inst.linewidth=parseFloat(t),this.update()},flatShading:function(t){this.inst.flatShading=t,this.update()},uniforms:{handler:function(t){this.inst.uniforms=t,this.update()},deep:!0},vertexShader:function(t){this.inst.vertexShader=t,this.update()},wireframe:function(t){this.inst.wireframe=t,this.update()},wireframeLinewidth:function(t){this.inst.wireframeLinewidth=parseFloat(t),this.update()}}},Os={mixins:[ji],props:{points:{type:ei,required:!0,validator:hi},segments:{type:He,default:12},phiStart:{type:We,default:0},phiLength:{type:We,default:2*Math.PI}},computed:{inst:function(){return new le(Ue(this.points),parseInt(this.segments,10),parseFloat(this.phiStart),parseFloat(this.phiLength))}}},As={mixins:[ci],props:{color:Xe,light:{type:_e,required:!0,validator:ni}},data:function(){return{lightUuid:null}},computed:{inst:function(){if(!this.lightUuid)return new o;var t=this.vglNamespace.object3ds.get(this.light);return new he(t)}},methods:{setLightUuid:function(t){this.lightUuid=t?t.uuid:null,this.inst.update()}},beforeDestroy:function(){void 0!==this.light&&this.vglNamespace.object3ds.unlisten(this.light,this.setLightUuid)},watch:{inst:function(t){this.lightUuid&&void 0!==this.color&&Object.assign(t,{color:this.color}).update()},light:{handler:function(t,e){if(void 0!==e&&this.vglNamespace.object3ds.unlisten(e,this.setLightUuid),void 0!==t){this.vglNamespace.object3ds.listen(t,this.setLightUuid);var i=this.vglNamespace.object3ds.get(this.light);this.setLightUuid(i)}},immediate:!0},color:{handler:function(t){this.lightUuid&&(this.inst.color=t,this.inst.update())},immediate:!0}}},ks={mixins:[vi],props:{groundColor:{type:Xe,default:"#fff"}},computed:{inst:function(){return new ce}},watch:{inst:{handler:function(t){t.groundColor.setStyle(this.groundColor)},immediate:!0},groundColor:function(t){this.inst.groundColor.setStyle(t),this.vglObject3d.emit()}}},Ls={mixins:[vi],props:{width:{type:We,default:10},height:{type:We,default:10}},computed:{inst:function(){return new ue}},watch:{inst:{handler:function(t){Object.assign(t,{width:parseFloat(this.width),height:parseFloat(this.height)})},immediate:!0},width:function(t){this.inst.width=parseFloat(t),this.vglObject3d.emit()},height:function(t){this.inst.height=parseFloat(t),this.vglObject3d.emit()}}},Vs={inject:{vglNamespace:{default:function(){throw new Error("VueGL components must be wraped by VglNamespace component.")}}},props:{name:{type:_e,required:!0,validator:ni}},computed:{inst:function(){return new pe}},beforeDestroy:function(){void 0!==this.name&&this.vglNamespace.curves.delete(this.name,this.inst)},watch:{inst:{handler:function(t){void 0!==this.name&&this.vglNamespace.curves.set(this.name,t)},immediate:!0},name:function(t,e){void 0!==e&&this.vglNamespace.curves.delete(e,this.inst),void 0!==t&&this.vglNamespace.curves.set(t,this.inst)}},render:function(t){if(this.$slots.default)return t("div",{style:{display:"none"}},this.$slots.default)}},Rs={mixins:[Vs],props:{autoClose:Be},computed:{inst:function(){return new de}},watch:{inst:{handler:function(t){Object.assign(t,{autoClose:this.autoClose})},immediate:!0},autoClose:function(t){this.inst.autoClose=t}}},Is={mixins:[Rs],props:{path:{type:ei,validator:hi}},computed:{inst:function(){var t=new me;return void 0!==this.path&&t.setFromPoints(Ue(this.path)),t}}},Cs={mixins:[Is],computed:{inst:function(){var t=new fe;return void 0!==this.path&&t.setFromPoints(Ue(this.path)),t}}},zs={mixins:[ki],props:{shapes:{type:Ke,validator:ai},curveSegments:{type:He,default:12}},computed:{inst:function(){return new ge(this.shapeObjects,parseInt(this.curveSegments,10))}}},Ds={mixins:[ji],props:{vertices:{type:Je,validator:li},indices:{type:ti,validator:function(t){return(Array.isArray(t)?t:t.split(",")).every(si)}},radius:{type:We,default:1},detail:{type:He,default:0}},computed:{inst:function(){var t=Ge(this.vertices).map(parseFloat),e=function(t){return Ge(t).map((function(t){return parseInt(t,10)}))}(this.indices),i=parseFloat(this.radius),s=parseInt(this.detail,10);return new ve(t,e,i,s)}}};export{bi as VglAmbientLight,Yi as VglArrowHelper,Gi as VglAxesHelper,Di as VglBoxGeometry,Zi as VglBoxHelper,pi as VglCamera,ms as VglCameraHelper,Pi as VglCircleGeometry,$i as VglConeGeometry,Vs as VglCurve,Rs as VglCurvePath,Ei as VglCylinderGeometry,yi as VglDirectionalLight,fs as VglDirectionalLightHelper,Bi as VglDodecahedronGeometry,ls as VglExtrudeGeometry,ji as VglGeometry,ps as VglGridHelper,gi as VglGroup,ks as VglHemisphereLight,Hi as VglIcosahedronGeometry,Os as VglLatheGeometry,vi as VglLight,Ci as VglLine,Ii as VglLineBasicMaterial,ws as VglLineDashedMaterial,Ti as VglLineLoop,Mi as VglLineSegments,Si as VglMaterial,Vi as VglMesh,vs as VglMeshBasicMaterial,ys as VglMeshDepthMaterial,bs as VglMeshLambertMaterial,Ss as VglMeshNormalMaterial,Fs as VglMeshPhongMaterial,Ns as VglMeshPhysicalMaterial,Li as VglMeshStandardMaterial,js as VglMeshToonMaterial,Ie as VglNamespace,ci as VglObject3d,Wi as VglOctahedronGeometry,Ui as VglOrthographicCamera,Is as VglPath,fi as VglPerspectiveCamera,qi as VglPlaneGeometry,Ji as VglPointLight,Ri as VglPoints,Fi as VglPointsMaterial,gs as VglPolarGridHelper,Ds as VglPolyhedronGeometry,Ls as VglRectAreaLight,mi as VglRenderer,Qi as VglRingGeometry,ui as VglScene,xs as VglShaderMaterial,ds as VglShadowMaterial,Cs as VglShape,zs as VglShapeGeometry,Ni as VglSphereGeometry,ts as VglSpotLight,As as VglSpotLightHelper,zi as VglSprite,us as VglSpriteMaterial,_i as VglTetrahedronGeometry,cs as VglTextGeometry,os as VglTexture,Ki as VglTorusGeometry,Xi as VglTorusKnotGeometry};
