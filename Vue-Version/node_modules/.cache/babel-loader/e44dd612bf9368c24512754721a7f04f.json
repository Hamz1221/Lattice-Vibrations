{"remainingRequest":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js??ref--13-0!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/1D_d3canvas.js","dependencies":[{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/1D_d3canvas.js","mtime":1597924685311},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgKiBhcyBtYXRoIGZyb20gJ21hdGhqcyc7CmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHsKICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCiAgLy9Db2RlIGZvciBtYWluIHZpcyBhbmQgayBpbiBmaXJzdCBicmlsbG91aW4gem9uZSBzdGFydHMgaGVyZSAvLwogIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICB3aW5kb3cuVmlzID0gd2luZG93LlZpcyB8fCB7fTsKCiAgVmlzLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAvL01haW4gaW5pdGlhbGlzaW5nIGZ1bmN0aW9uCiAgICBWaXMuaXNSdW5uaW5nID0gZmFsc2U7CiAgICBWaXMuc2V0dXAuaW5pdENvbnN0cygpOyAvL1NldHVwIGNvbnN0YW50cwoKICAgIFZpcy5zZXR1cC5pbml0VmFycygpOyAvL0luaXRpYWxpc2UgdmFyaWFibGVzCgogICAgQ2lyY2xlLmluaXQoKTsgLy9Jbml0aWFsaXNlIEZpcnN0IEJyaWxsb3VpbiBab25lIFNWRwoKICAgIFZpcy5zZXR1cC5pbml0R3JhcGgoKTsgLy9TZXR1cCBDYW52YXMKCiAgICBWaXMuc2V0dXAuaW5pdFNsaWRlcigpOyAvL0xpbmsgdGhlIHNsaWRlcnMgdG8gdGhlIHZhcmlhYmxlcwoKICAgIFZpcy5zdGFydCgpOyAvL0xldCB0aW1lIHJ1biBmb3IgYW5pbWF0aW9uCiAgfTsKCiAgVmlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKFZpcy5fc3RvcHRpbWUpIHsKICAgICAgVmlzLl90aGVuICs9IERhdGUubm93KCkgLSBWaXMuX3N0b3B0aW1lOyAvLyBhZGQgc3RvcHBlZCB0aW1lCiAgICB9CgogICAgaWYgKCFWaXMuaXNSdW5uaW5nKSB7CiAgICAgIFZpcy5jb3JlLmZyYW1lKCk7CiAgICAgIFZpcy5pc1J1bm5pbmcgPSB0cnVlOwogICAgfQogIH07CgogIFZpcy5zdG9wID0gZnVuY3Rpb24gKCkgewogICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKFZpcy5hbmltYXRpb25GcmFtZUxvb3ApOwogICAgVmlzLmlzUnVubmluZyA9IGZhbHNlOwogICAgVmlzLl9zdG9wdGltZSA9IERhdGUubm93KCk7IC8vIHJlY29yZCB3aGVuIGFuaW1hdGlvbiBwYXVzZWQKICB9OwoKICBWaXMuY29yZSA9IHsKICAgIGZyYW1lOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy50ID0gKERhdGUubm93KCkgLSBWaXMuX3RoZW4pIC8gMjUwOyAvLyB0aW1lIHNpbmNlIHN0YXJ0IGluIHNlY29uZHMKCiAgICAgIFZpcy5jb3JlLnVwZGF0ZSgpOwogICAgICBWaXMuY29yZS5hbmltYXRlKCk7CiAgICAgIFZpcy5hbmltYXRpb25GcmFtZUxvb3AgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKFZpcy5jb3JlLmZyYW1lKTsKICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLndvcmtlcnMuY2FsY1BhcmFtcygpOyAvL0NhbGN1bGF0ZSBuZXcgayBpbiBGaXJzdCBCcmlsbG91aW4gWm9uZQoKICAgICAgVmlzLndvcmtlcnMuY2FsY1BvcygpOyAvL0NhbGN1bGF0ZSBuZXcgcG9zaXRpb25zCiAgICB9LAogICAgYW5pbWF0ZTogZnVuY3Rpb24gKCkgewogICAgICBWaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgVmlzLmNhbnZhc3gsIFZpcy5jYW52YXN5KTsgLy9SZWRyYXcgYmxhbmsgY2FudmFzCgogICAgICBWaXMuY29udGV4dC5maWxsU3R5bGUgPSAnb3JhbmdlJzsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmlzLk47IGkrKykgewogICAgICAgIC8vRHJhdyBpbmRpdmlkdWFsIGNpcmNsZXMKICAgICAgICBWaXMuY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICBWaXMuY29udGV4dC5hcmMoVmlzLmNvbnZlcnRDYW52YXNYKFZpcy54W2ldKSwgVmlzLmNvbnZlcnRDYW52YXNZKFZpcy55W2ldKSwgVmlzLmNvbnZlcnRDYW52YXNYKFZpcy5wb2ludEQpLCAwLCAyICogTWF0aC5QSSk7CiAgICAgICAgVmlzLmNvbnRleHQuZmlsbCgpOwogICAgICB9IC8vIHBpY2sgYSBwYXJ0aWNsZSB0byB0cmFjayB3aXRoIGEgYmxhY2sgZG90IAoKCiAgICAgIFZpcy5jb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7CiAgICAgIFZpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICBWaXMuY29udGV4dC5hcmMoVmlzLmNvbnZlcnRDYW52YXNYKFZpcy54W01hdGgucm91bmQoVmlzLk4gLyAyKV0pLCBWaXMuY29udmVydENhbnZhc1koVmlzLnlbTWF0aC5yb3VuZChWaXMuTiAvIDIpXSksIFZpcy5jb252ZXJ0Q2FudmFzWChWaXMucG9pbnREICogMS4wMyksIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgVmlzLmNvbnRleHQuZmlsbCgpOwogICAgfSwKICAgIHVwZGF0ZVNsaWRlcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmRSYW5nZS52YWx1ZSA9IFZpcy5kOwogICAgICBWaXMuZERpc3BsYXkudGV4dENvbnRlbnQgPSBOdW1iZXIoVmlzLmQpLnRvRml4ZWQoMik7CiAgICAgIFZpcy5kQm94LnZhbHVlID0gTnVtYmVyKFZpcy5kKS50b0ZpeGVkKDIpOwogICAgICBWaXMudVJhbmdlLnZhbHVlID0gVmlzLnU7CiAgICAgIFZpcy51RGlzcGxheS50ZXh0Q29udGVudCA9IE51bWJlcihWaXMudSkudG9GaXhlZCgyKTsKICAgICAgc2xpZGUoVmlzLmQpOwogICAgfQogIH07CiAgVmlzLndvcmtlcnMgPSB7CiAgICBjYWxjUGFyYW1zOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vQ2FsY3VsYXRpb24gb2YgayBpbiBGaXJzdCBCcmlsbG91aW4gWm9uZQogICAgICBWaXMuayA9IFZpcy5kICogTWF0aC5QSSAvIFZpcy5hOwogICAgICB2YXIgZHRlbXBvcmFyeSA9IFZpcy5kICUgMjsKCiAgICAgIGlmIChWaXMuZCA+IDAgJiYgZHRlbXBvcmFyeSA+IDEpIHsKICAgICAgICBWaXMuZEZCWiA9IGR0ZW1wb3JhcnkgLSAyOwogICAgICB9IGVsc2UgaWYgKFZpcy5kIDwgMCAmJiBkdGVtcG9yYXJ5IDwgLTEpIHsKICAgICAgICBWaXMuZEZCWiA9IGR0ZW1wb3JhcnkgKyAyOwogICAgICB9IGVsc2UgewogICAgICAgIFZpcy5kRkJaID0gZHRlbXBvcmFyeTsKICAgICAgfQoKICAgICAgVmlzLncgPSBNYXRoLnNxcnQoNCAqIFZpcy5kdyAqIE1hdGgucG93KE1hdGguc2luKFZpcy5rICogVmlzLmEgLyAyKSwgMikpOwogICAgfSwKICAgIGNhbGNQb3M6IGZ1bmN0aW9uICgpIHsKICAgICAgLy9DYWxjdWxhdGlvbiBvZiBuZXcgYXRvbWljIHBvc2l0aW9ucwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFZpcy5OOyBpKyspIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5jb3MoVmlzLmsgKiBWaXMuYSAqIGkgLSBWaXMudyAqIFZpcy50KTsKICAgICAgICBWaXMueFtpXSA9IGkgKiBWaXMuYSArIFZpcy51ICogb2Zmc2V0OwogICAgICAgIFZpcy55W2ldID0gVmlzLk4gKiBWaXMuYSAvIDI7CiAgICAgIH0KICAgIH0KICB9OwogIFZpcy5zZXR1cCA9IHsKICAgIGluaXRDb25zdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmEgPSAxOyAvL0F0b21pYyBzcGFjaW5nCgogICAgICBWaXMuZHcgPSAxOyAvL0RlYnllIHdhdmVsZW5ndGgKCiAgICAgIFZpcy5OID0gMjA7IC8vTnVtYmVyIG9mIGF0b21zIGluIHggZGlyZWN0aW9uCgogICAgICBWaXMuY2FudmFzeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXZpcycpLm9mZnNldFdpZHRoOwogICAgICBWaXMuY2FudmFzeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXZpcycpLm9mZnNldEhlaWdodDsKICAgICAgVmlzLnBvaW50RCA9IDAuMjAgKiBWaXMuYTsgLy9BdG9taWMgcmFkaXVzCiAgICB9LAogICAgaW5pdFZhcnM6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLl90aGVuID0gRGF0ZS5ub3coKTsKICAgICAgVmlzLmQgPSAwLjEwOyAvL2sgPSAocGkvYSkqZAoKICAgICAgVmlzLmRGQlogPSAwLjEwOyAvL2QgaW4gdGhlIEZpcnN0IEJyaWxsb3VpbiBab25lCgogICAgICBWaXMudSA9IC0wLjUwOyAvL09zY2lsbGF0aW9uIGFtcGxpdHVkZQoKICAgICAgVmlzLnggPSBuZXcgQXJyYXkoVmlzLk4pOyAvL0VtcHR5IGFycmF5IGZvciBhdG9taWMgeCBwb3NpdGlvbnMKCiAgICAgIFZpcy55ID0gbmV3IEFycmF5KFZpcy5OKTsgLy9FbXB0eSBhcnJheSBmb3IgYXRvbWljIHkgcG9zaXRpb25zCiAgICB9LAogICAgaW5pdEdyYXBoOiBmdW5jdGlvbiAoKSB7CiAgICAgIC8vU2V0dXAgdGhlIGNhbnZhcyB0byB0aGUgcmlnaHQgc2NhbGUKICAgICAgVmlzLmNhbnZhcyA9IGQzLnNlbGVjdCgnI21haW4tdmlzJykuYXBwZW5kKCdjYW52YXMnKS5hdHRyKCd3aWR0aCcsIFZpcy5jYW52YXN4KS5hdHRyKCdoZWlnaHQnLCBWaXMuY2FudmFzeSk7CiAgICAgIFZpcy5jb250ZXh0ID0gVmlzLmNhbnZhcy5ub2RlKCkuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgVmlzLmNvbnZlcnRDYW52YXNYID0gZDMuc2NhbGVMaW5lYXIoKSAvL3ggcmFuZ2UKICAgICAgLmRvbWFpbihbMCwgVmlzLk4gKiBWaXMuYV0pLnJhbmdlKFswLCBWaXMuY2FudmFzeF0pOwogICAgICBWaXMuY29udmVydENhbnZhc1kgPSBkMy5zY2FsZUxpbmVhcigpIC8veSByYW5nZQogICAgICAuZG9tYWluKFswLCBWaXMuTiAqIFZpcy5hXSkucmFuZ2UoW1Zpcy5jYW52YXN5LCAwXSk7CiAgICB9LAogICAgaW5pdFNsaWRlcjogZnVuY3Rpb24gKCkgewogICAgICAvLyBkIHNsaWRlciBsaW5rZWQgdG8gSlMgdmFyaWFibGUsIGQgZGlzcGxheSBhbmQgZCBpbnB1dCBib3ggaW4gSFRNTCAKICAgICAgVmlzLmRSYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkLXJhbmdlJyk7CiAgICAgIFZpcy5kRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkLWRpc3BsYXknKTsKICAgICAgVmlzLmRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZC1ib3gnKTsKICAgICAgVmlzLmRSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBWaXMuZCA9IFZpcy5kUmFuZ2UudmFsdWU7CiAgICAgICAgVmlzLmREaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy5kKS50b0ZpeGVkKDIpOwogICAgICAgIFZpcy5kQm94LnZhbHVlID0gTnVtYmVyKFZpcy5kKS50b0ZpeGVkKDIpOwogICAgICAgIFZpcy5jb3JlLnVwZGF0ZSgpOwogICAgICAgIENpcmNsZS5kQ2lyY2xlLnggPSBwYXJzZUZsb2F0KFZpcy5kRkJaKTsKICAgICAgICBDaXJjbGUuY29yZS5kcmF3KCk7CiAgICAgICAgQ2lyY2xlLmRDaXJjbGUueSA9IHBhcnNlRmxvYXQoMCk7CiAgICAgICAgQ2lyY2xlLmNvcmUuZHJhdygpOwogICAgICAgIHNsaWRlKFZpcy5kKTsKICAgICAgfSk7CiAgICAgIFZpcy5kQm94LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5kID0gVmlzLmRCb3gudmFsdWU7CiAgICAgICAgVmlzLmREaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy5kKS50b0ZpeGVkKDIpOwogICAgICAgIFZpcy5kQm94LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy5kKS50b0ZpeGVkKDIpOwogICAgICAgIFZpcy5jb3JlLnVwZGF0ZSgpOwogICAgICAgIENpcmNsZS5kQ2lyY2xlLnggPSBwYXJzZUZsb2F0KFZpcy5kRkJaKTsKICAgICAgICBDaXJjbGUuY29yZS5kcmF3KCk7CiAgICAgICAgQ2lyY2xlLmRDaXJjbGUueSA9IHBhcnNlRmxvYXQoMCk7CiAgICAgICAgQ2lyY2xlLmNvcmUuZHJhdygpOwogICAgICAgIHNsaWRlKFZpcy5kKTsKICAgICAgfSk7IC8vIHUgc2xpZGVyCgogICAgICBWaXMudVJhbmdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VrLXJhbmdlJyk7CiAgICAgIFZpcy51RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1ay1kaXNwbGF5Jyk7CiAgICAgIFZpcy51UmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgVmlzLnUgPSBWaXMudVJhbmdlLnZhbHVlOwogICAgICAgIFZpcy51RGlzcGxheS50ZXh0Q29udGVudCA9IFZpcy51OwogICAgICB9KTsKICAgICAgVmlzLmNvcmUudXBkYXRlU2xpZGVycygpOwogICAgfQogIH07CiAgd2luZG93LkNpcmNsZSA9IHdpbmRvdy5DaXJjbGUgfHwge307CgogIENpcmNsZS5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgQ2lyY2xlLnNldHVwLmluaXRDb25zdCgpOyAvL1NldHVwIGNvbnN0YW50cwoKICAgIENpcmNsZS5zZXR1cC5pbml0T2JqZWN0cygpOyAvL0luaXRpYWxpc2UgU1ZHIGVsZW1lbnRzCiAgfTsKCiAgQ2lyY2xlLmNvcmUgPSB7CiAgICBkcmF3OiBmdW5jdGlvbiAoKSB7CiAgICAgIENpcmNsZS5jb3JlLmRyYXdDaXJjbGUoQ2lyY2xlLmRDaXJjbGUpOwogICAgfSwKICAgIGRyYXdDaXJjbGU6IGZ1bmN0aW9uIChjaXJjbGUpIHsKICAgICAgQ2lyY2xlLmhlbHBlcnMudXBkYXRlQ2lyY2xlKGNpcmNsZSk7CiAgICB9CiAgfTsKICBDaXJjbGUuaGVscGVycyA9IHsKICAgIHVwZGF0ZUNpcmNsZTogZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICB2YXIgdGlweCA9IChjaXJjbGUueCArIDEpICogQ2lyY2xlLndpZHRoIC8gMjsgLy9CcmluZ3MgdGhlIHggb3JpZ2luIHRvIHRoZSBjZW50ZXIgCgogICAgICB2YXIgdGlweSA9ICgxIC0gY2lyY2xlLnkpICogQ2lyY2xlLmhlaWdodCAvIDI7IC8vU1ZHIHkgY29vcmRpbmF0ZXMgaW5jcmVhc2VzIHZlcnRpY2FsbHkgZG93bndhcmQKCiAgICAgIGNpcmNsZS5ib2R5LmF0dHIoJ3gyJywgdGlweCkuYXR0cigneTInLCB0aXB5KTsKICAgICAgY2lyY2xlLnRpcC5hdHRyKCdjeCcsIHRpcHgpLmF0dHIoJ2N5JywgdGlweSk7CiAgICAgIGNpcmNsZS50ZXh0LmF0dHIoJ3gnLCBDaXJjbGUud2lkdGggLyAyKS5hdHRyKCd5JywgMC44ICogQ2lyY2xlLmhlaWdodCAvIDIpLmF0dHIoJ2ZvbnQtc2l6ZScsIDEyKS50ZXh0KGNpcmNsZS5zdGV4dCArICcgPSAnICsgTnVtYmVyKFZpcy5kRkJaKS50b0ZpeGVkKDIpICsgJ8+AJyk7CiAgICB9CiAgfTsKICBDaXJjbGUuc2V0dXAgPSB7CiAgICBpbml0Q29uc3Q6IGZ1bmN0aW9uICgpIHsKICAgICAgLy9TZXR1cCBjb25zdGFudHMKICAgICAgQ2lyY2xlLndpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyYWN0aXZlLUNpcmNsZScpLm9mZnNldFdpZHRoOwogICAgICBDaXJjbGUuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyYWN0aXZlLUNpcmNsZScpLm9mZnNldEhlaWdodDsKICAgICAgQ2lyY2xlLnN0cm9rZVdpZHRoID0gMjsKICAgICAgQ2lyY2xlLnRpcFJhZGl1cyA9IDU7CiAgICB9LAogICAgaW5pdE9iamVjdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgLy9Jbml0aWFsaXNlIFNWRyBlbGVtZW50cwogICAgICBDaXJjbGUuc3ZnID0gZDMuc2VsZWN0KCcjaW50ZXJhY3RpdmUtQ2lyY2xlJykuYXBwZW5kKCdzdmcnKS5hdHRyKCd3aWR0aCcsIENpcmNsZS53aWR0aCkuYXR0cignaGVpZ2h0JywgQ2lyY2xlLmhlaWdodCk7CiAgICAgIENpcmNsZS5zdmcuYXBwZW5kKCJyZWN0IikuYXR0cigieCIsIDApLmF0dHIoInkiLCAwKS5hdHRyKCJoZWlnaHQiLCBDaXJjbGUuaGVpZ2h0KS5hdHRyKCJ3aWR0aCIsIENpcmNsZS53aWR0aCkuc3R5bGUoInN0cm9rZSIsICdibGFjaycpLnN0eWxlKCJmaWxsIiwgIm5vbmUiKS5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgMSk7CiAgICAgIENpcmNsZS5kQ2lyY2xlID0gewogICAgICAgIHg6IFZpcy5kRkJaLAogICAgICAgIHk6IDAsCiAgICAgICAgc3RleHQ6ICdrJwogICAgICB9OwogICAgICBDaXJjbGUuc2V0dXAuaW5pdENpcmNsZShDaXJjbGUuZENpcmNsZSk7CiAgICB9LAogICAgaW5pdENpcmNsZTogZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICAvL0FkZCB0aGUgU1ZHIGVsZW1lbnRzCiAgICAgIGNpcmNsZS5jb250YWluZXIgPSBDaXJjbGUuc2V0dXAuY3JlYXRlQ2lyY2xlQ29udGFpbmVyKCk7CiAgICAgIGNpcmNsZS5ib2R5ID0gQ2lyY2xlLnNldHVwLmNyZWF0ZUNpcmNsZUJvZHkoY2lyY2xlKTsKICAgICAgY2lyY2xlLnRpcCA9IENpcmNsZS5zZXR1cC5jcmVhdGVDaXJjbGVUaXAoY2lyY2xlKTsKICAgICAgY2lyY2xlLnRleHQgPSBDaXJjbGUuc2V0dXAuY3JlYXRlQ2lyY2xlVGV4dChjaXJjbGUpOwogICAgICBDaXJjbGUuaGVscGVycy51cGRhdGVDaXJjbGUoY2lyY2xlKTsKICAgIH0sCiAgICBjcmVhdGVDaXJjbGVDb250YWluZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENpcmNsZS5zdmcuYXBwZW5kKCdzdmcnKS5hdHRyKCd3aWR0aCcsIENpcmNsZS53aWR0aCkuYXR0cignaGVpZ2h0JywgQ2lyY2xlLmhlaWdodCk7CiAgICB9LAogICAgY3JlYXRlQ2lyY2xlQm9keTogZnVuY3Rpb24gKGNpcmNsZSkgewogICAgICByZXR1cm4gY2lyY2xlLmNvbnRhaW5lci5hcHBlbmQoJ2xpbmUnKS5hdHRyKCd4MScsIENpcmNsZS53aWR0aCAvIDIpLmF0dHIoJ3kxJywgQ2lyY2xlLmhlaWdodCAvIDIpLmF0dHIoJ3N0cm9rZS13aWR0aCcsIENpcmNsZS5zdHJva2VXaWR0aCkuYXR0cignc3Ryb2tlJywgJ2JsYWNrJyk7CiAgICB9LAogICAgY3JlYXRlQ2lyY2xlVGlwOiBmdW5jdGlvbiAoY2lyY2xlKSB7CiAgICAgIHJldHVybiBjaXJjbGUuY29udGFpbmVyLmFwcGVuZCgnY2lyY2xlJykuYXR0cigncicsIENpcmNsZS50aXBSYWRpdXMpOwogICAgfSwKICAgIGNyZWF0ZUNpcmNsZVRleHQ6IGZ1bmN0aW9uIChjaXJjbGUpIHsKICAgICAgcmV0dXJuIGNpcmNsZS5jb250YWluZXIuYXBwZW5kKCd0ZXh0Jyk7CiAgICB9CiAgfTsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgVmlzLmluaXQpOyAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAvL0NvZGUgZm9yIGRpc3BlcnNpb24gZ3JhcGggc3RhcnRzIGhlcmUgLy8KICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAvLyBEaXNwZXJzaW9uIHJlbGF0aW9uCgogIGZ1bmN0aW9uIG9tZWdhX2soZCkgewogICAgcmV0dXJuIE1hdGguc3FydCg0ICogMSAqIE1hdGgucG93KE1hdGguc2luKGQgKiBNYXRoLlBJICogMSAvIDIpLCAyKSk7CiAgfSAvLyBTZXR0aW5nIHVwIGRhdGEgZm9yIGdyYXBoCgoKICB2YXIgayA9IFtdLAogICAgICB3X2sgPSBbXTsKICB2YXIgZGF0YSA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IDIwMDAwOyBpKyspIHsKICAgIHZhciB0aGlzZCA9IC0xMCArIGkgLyAxMDAwOwogICAgdmFyIHRoaXNrID0gKC0xMCArIGkgLyAxMDAwKSAqIE1hdGguUEk7CiAgICBrLnB1c2goTnVtYmVyKHRoaXNrLnRvRml4ZWQoMikpKTsgLy8gZml4IHRvIDIgZGVjaW1hbCBwbGFjZXMKCiAgICB3X2sucHVzaChvbWVnYV9rKHRoaXNkKSk7CiAgICBkYXRhLnB1c2goewogICAgICB4OiBOdW1iZXIodGhpc2sudG9GaXhlZCgyKSksCiAgICAgIHk6IG9tZWdhX2sodGhpc2QpCiAgICB9KTsKICB9CgogIHZhciBkaXNwZXJzaW9uV2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGVyc2lvbi1ncmFwaCcpLm9mZnNldFdpZHRoOwogIHZhciBkaXNwZXJzaW9uSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BlcnNpb24tZ3JhcGgnKS5vZmZzZXRIZWlnaHQ7IC8vIHNldCB0aGUgZGltZW5zaW9ucyBhbmQgbWFyZ2lucyBvZiB0aGUgZ3JhcGgKCiAgdmFyIG1hcmdpbiA9IHsKICAgIHRvcDogMC4xICogZGlzcGVyc2lvbkhlaWdodCwKICAgIHJpZ2h0OiAwLjEgKiBkaXNwZXJzaW9uV2lkdGgsCiAgICBib3R0b206IDAuMiAqIGRpc3BlcnNpb25IZWlnaHQsCiAgICBsZWZ0OiAwLjEgKiBkaXNwZXJzaW9uV2lkdGgKICB9LAogICAgICB3aWR0aCA9IDAuOCAqIGRpc3BlcnNpb25XaWR0aCwKICAgICAgaGVpZ2h0ID0gMC43ICogZGlzcGVyc2lvbkhlaWdodDsgLy8gYXBwZW5kIHRoZSBzdmcgb2JqZWN0IHRvIHRoZSBib2R5IG9mIHRoZSBwYWdlCgogIHZhciBzVmcgPSBkMy5zZWxlY3QoIiNkaXNwZXJzaW9uLWdyYXBoIikuYXBwZW5kKCJzdmciKS5hdHRyKCJ3aWR0aCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpLmF0dHIoImhlaWdodCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKSAvLyB0cmFuc2xhdGUgdGhpcyBzdmcgZWxlbWVudCB0byBsZWF2ZSBzb21lIG1hcmdpbi4KICAuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsgLy8gWCBzY2FsZSBhbmQgQXhpcwoKICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtrWzBdLCBrLnNsaWNlKC0xKVswXV0pIC8vIFJhbmdlIG9mIHggYXhpcwogIC5yYW5nZShbMCwgd2lkdGhdKTsgLy8gTGVuZ3RoIG9mIHggYXhpcwoKICBzVmcuYXBwZW5kKCdnJykuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIgKyBoZWlnaHQgKyAiKSIpIC8vIFBvc2l0aW9uIG9mIHggYXhpcwogIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpOyAvLyBBZGQgWCBheGlzIGxhYmVsOgoKICBzVmcuYXBwZW5kKCJ0ZXh0IikuYXR0cigidGV4dC1hbmNob3IiLCAiZW5kIikuYXR0cigiZm9udC1zdHlsZSIsICJpdGFsaWMiKS5hdHRyKCJmb250LXNpemUiLCBoZWlnaHQgLyAxMSkuYXR0cigieCIsIHdpZHRoKS5hdHRyKCJ5IiwgMTEgKiBoZWlnaHQgLyAxMiArIDE0ICogbWFyZ2luLmJvdHRvbSAvIDExKS50ZXh0KCJrID0gz4BkIik7IC8vIFkgc2NhbGUgYW5kIEF4aXMKCiAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF0aC5taW4od19rKSwgbWF0aC5tYXgod19rKV0pIC8vIFJhbmdlIG9mIHkgYXhpcwogIC5yYW5nZShbaGVpZ2h0LCAwXSk7IC8vIExlbmd0aCBvZiB5IGF4aXMKCiAgc1ZnLmFwcGVuZCgnZycpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIHdpZHRoIC8gMiArICIsIDApIikgLy8gUG9zaXRpb24gb2YgeCBheGlzCiAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpOyAvLyBZIGF4aXMgbGFiZWw6CgogIHNWZy5hcHBlbmQoInRleHQiKS5hdHRyKCJ0ZXh0LWFuY2hvciIsICJlbmQiKS5hdHRyKCJmb250LXN0eWxlIiwgIml0YWxpYyIpLmF0dHIoImZvbnQtc2l6ZSIsIGhlaWdodCAvIDExKS5hdHRyKCJ4IiwgMS40ICogd2lkdGggLyAyKS5hdHRyKCJ5IiwgLW1hcmdpbi50b3AgLyAyKS50ZXh0KCLPiShrKSA9IEUvxKciKTsgLy8gRHJhdyB0aGUgcG90ZW50aWFsCgogIHNWZy5hcHBlbmQoInBhdGgiKS5kYXR1bShkYXRhKS5hdHRyKCJmaWxsIiwgIm5vbmUiKS5hdHRyKCJzdHJva2UiLCAic3RlZWxibHVlIikuYXR0cigic3Ryb2tlLXdpZHRoIiwgMS41KS5hdHRyKCJkIiwgZDMubGluZSgpLngoZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiB4KGQueCk7CiAgfSkueShmdW5jdGlvbiAoZCkgewogICAgcmV0dXJuIHkoZC55KTsKICB9KSk7IC8vIERyYXcgY3VycmVudCBrIAoKICB2YXIgbW92aW5nayA9IHNWZy5zZWxlY3RBbGwoKS5kYXRhKFt7CiAgICB4OiAwLjEgKiBNYXRoLlBJLAogICAgeTogb21lZ2FfaygwLjEpCiAgfV0pLmVudGVyKCkuYXBwZW5kKCJjaXJjbGUiKS5hdHRyKCJjeCIsIGZ1bmN0aW9uIChkKSB7CiAgICByZXR1cm4geChkLngpOwogIH0pLmF0dHIoImN5IiwgZnVuY3Rpb24gKGQpIHsKICAgIHJldHVybiB5KGQueSk7CiAgfSkuYXR0cigiciIsIDMpLmF0dHIoImZpbGwiLCAib3JhbmdlIik7IC8vU2xpZGUgY3VycmVudCBrIAoKICBmdW5jdGlvbiBzbGlkZShuZXdkKSB7CiAgICBtb3ZpbmdrLmF0dHIoJ2N4JywgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4geChuZXdkICogTWF0aC5QSSk7CiAgICB9KS5hdHRyKCdjeScsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHkob21lZ2FfayhuZXdkKSk7CiAgICB9KTsKICB9Cn0="},{"version":3,"sources":["/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/1D_d3canvas.js"],"names":["d3","math","window","Vis","init","isRunning","setup","initConsts","initVars","Circle","initGraph","initSlider","start","_stoptime","_then","Date","now","core","frame","stop","cancelAnimationFrame","animationFrameLoop","t","update","animate","requestAnimationFrame","workers","calcParams","calcPos","context","clearRect","canvasx","canvasy","fillStyle","i","N","beginPath","arc","convertCanvasX","x","convertCanvasY","y","pointD","Math","PI","fill","round","updateSliders","dRange","value","d","dDisplay","textContent","Number","toFixed","dBox","uRange","u","uDisplay","slide","k","a","dtemporary","dFBZ","w","sqrt","dw","pow","sin","offset","cos","document","getElementById","offsetWidth","offsetHeight","Array","canvas","select","append","attr","node","getContext","scaleLinear","domain","range","addEventListener","dCircle","parseFloat","draw","initConst","initObjects","drawCircle","circle","helpers","updateCircle","tipx","width","tipy","height","body","tip","text","stext","strokeWidth","tipRadius","svg","style","initCircle","container","createCircleContainer","createCircleBody","createCircleTip","createCircleText","omega_k","w_k","data","thisd","thisk","push","dispersionWidth","dispersionHeight","margin","top","right","bottom","left","sVg","slice","call","axisBottom","min","max","axisLeft","datum","line","movingk","selectAll","enter","newd"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\nimport * as math from 'mathjs';\n\nexport default function() {\n//------------------------------------------------------------//\n//Code for main vis and k in first brillouin zone starts here //\n//------------------------------------------------------------//\nwindow.Vis = window.Vis || {};\n\nVis.init = function() {             //Main initialising function\n    Vis.isRunning = false;\n\n    Vis.setup.initConsts();         //Setup constants\n    Vis.setup.initVars();           //Initialise variables\n\n    Circle.init();                  //Initialise First Brillouin Zone SVG\n\n    Vis.setup.initGraph();          //Setup Canvas\n    Vis.setup.initSlider();         //Link the sliders to the variables\n\n    Vis.start();                    //Let time run for animation\n};\n\nVis.start = function() {\n    if (Vis._stoptime) {\n        Vis._then += Date.now() - Vis._stoptime; // add stopped time\n    }\n\n    if (!Vis.isRunning) {\n        Vis.core.frame();\n        Vis.isRunning = true;\n    }\n};\n\nVis.stop = function() {\n    window.cancelAnimationFrame(Vis.animationFrameLoop);\n    Vis.isRunning = false;\n    Vis._stoptime = Date.now(); // record when animation paused\n};\n\nVis.core = {\n    frame: function() {\n        Vis.t = (Date.now() - Vis._then) / 250; // time since start in seconds\n\n        Vis.core.update();\n        Vis.core.animate();\n\n        Vis.animationFrameLoop = window.requestAnimationFrame(Vis.core.frame);\n    },\n\n    update: function() {\n        Vis.workers.calcParams();                                               //Calculate new k in First Brillouin Zone\n        Vis.workers.calcPos();                                                  //Calculate new positions\n    },\n\n    animate: function() {\n        Vis.context.clearRect(0, 0, Vis.canvasx, Vis.canvasy);                  //Redraw blank canvas\n        \n        Vis.context.fillStyle = 'orange';\n        for (var i=0; i < Vis.N; i++) {                                         //Draw individual circles\n            Vis.context.beginPath();\n            Vis.context.arc(Vis.convertCanvasX(Vis.x[i]), Vis.convertCanvasY(Vis.y[i]), Vis.convertCanvasX(Vis.pointD), 0, 2*Math.PI);\n            Vis.context.fill();\n        }\n        \n        // pick a particle to track with a black dot \n        Vis.context.fillStyle = 'black';\n        Vis.context.beginPath();\n        Vis.context.arc(Vis.convertCanvasX(Vis.x[Math.round(Vis.N/2)]), Vis.convertCanvasY(Vis.y[Math.round(Vis.N/2)]), Vis.convertCanvasX(Vis.pointD*1.03), 0, 2*Math.PI);\n        Vis.context.fill();\n\n    },\n\n    updateSliders: function() {\n        Vis.dRange.value = Vis.d;\n        Vis.dDisplay.textContent = Number(Vis.d).toFixed(2);\n        Vis.dBox.value = Number(Vis.d).toFixed(2);\n\n        Vis.uRange.value = Vis.u;\n        Vis.uDisplay.textContent = Number(Vis.u).toFixed(2);\n\n        slide(Vis.d);\n    },\n};\n\nVis.workers = {\n    calcParams: function() {                                    //Calculation of k in First Brillouin Zone\n        Vis.k = Vis.d * Math.PI / Vis.a;\n        var dtemporary = Vis.d%2;\n        if (Vis.d > 0 && dtemporary > 1) {Vis.dFBZ = dtemporary - 2; }\n        else if (Vis.d < 0 && dtemporary < -1) {Vis.dFBZ = dtemporary + 2; }\n        else {Vis.dFBZ = dtemporary;}\n        Vis.w = Math.sqrt(4*Vis.dw*(Math.pow(Math.sin(Vis.k*Vis.a/2), 2)));\n    },\n\n    calcPos: function() {                                       //Calculation of new atomic positions\n        for (var i=0; i < Vis.N; i++) {\n                var offset = Math.cos(Vis.k*Vis.a*i - Vis.w*Vis.t);\n\n                Vis.x[i] = i*Vis.a + Vis.u * offset;\n                Vis.y[i] = Vis.N*Vis.a/2;\n        }\n    },\n};\n\nVis.setup = {\n    initConsts: function() {\n        Vis.a = 1;                  //Atomic spacing\n        Vis.dw = 1;                 //Debye wavelength\n\n        Vis.N = 20;                 //Number of atoms in x direction\n\n        Vis.canvasx = document.getElementById('main-vis').offsetWidth;\n        Vis.canvasy = document.getElementById('main-vis').offsetHeight;\n\n        Vis.pointD = 0.20 * Vis.a;  //Atomic radius\n    },\n\n    initVars: function() {\n        Vis._then = Date.now();\n\n        Vis.d = 0.10;               //k = (pi/a)*d\n        Vis.dFBZ = 0.10;            //d in the First Brillouin Zone\n\n        Vis.u = -0.50;              //Oscillation amplitude\n\n        Vis.x = new Array(Vis.N);   //Empty array for atomic x positions\n        Vis.y = new Array(Vis.N);   //Empty array for atomic y positions\n\n    },\n\n    initGraph: function() {         //Setup the canvas to the right scale\n        Vis.canvas = d3.select('#main-vis')\n                       .append('canvas')\n                        .attr('width', Vis.canvasx)\n                        .attr('height', Vis.canvasy);\n        Vis.context = Vis.canvas.node().getContext('2d');\n\n        Vis.convertCanvasX = d3.scaleLinear()                   //x range\n                                .domain([0, Vis.N*Vis.a])\n                                .range([0, Vis.canvasx]);\n        Vis.convertCanvasY = d3.scaleLinear()                   //y range\n                                .domain([0, Vis.N*Vis.a])\n                                .range([Vis.canvasy, 0]);\n    },\n\n    initSlider: function() {\n        // d slider linked to JS variable, d display and d input box in HTML \n        Vis.dRange = document.getElementById('d-range');\n        Vis.dDisplay = document.getElementById('d-display');\n        Vis.dBox = document.getElementById('d-box');\n\n        Vis.dRange.addEventListener('input', function() {\n            Vis.d = Vis.dRange.value;\n            Vis.dDisplay.textContent = Number(Vis.d).toFixed(2);\n            Vis.dBox.value = Number(Vis.d).toFixed(2);\n\n            Vis.core.update();\n\n            Circle.dCircle.x = parseFloat(Vis.dFBZ);\n            Circle.core.draw();\n\n            Circle.dCircle.y = parseFloat(0);\n            Circle.core.draw();\n\n            slide(Vis.d);\n\n        });\n\n        Vis.dBox.addEventListener('input', function() {\n            Vis.d = Vis.dBox.value;\n            Vis.dDisplay.textContent = Number(Vis.d).toFixed(2);\n            Vis.dBox.textContent = Number(Vis.d).toFixed(2);\n\n            Vis.core.update();\n            \n            Circle.dCircle.x = parseFloat(Vis.dFBZ);\n            Circle.core.draw();\n\n            Circle.dCircle.y = parseFloat(0);\n            Circle.core.draw();\n\n            slide(Vis.d);\n\n        });\n\n        // u slider\n        Vis.uRange = document.getElementById('uk-range');\n        Vis.uDisplay = document.getElementById('uk-display');\n\n        Vis.uRange.addEventListener('input', function() {\n            Vis.u = Vis.uRange.value;\n            Vis.uDisplay.textContent = Vis.u;\n\n        });\n\n        Vis.core.updateSliders();\n    },\n\n};\n\nwindow.Circle = window.Circle || {};\n\nCircle.init = function() {\n    Circle.setup.initConst();                   //Setup constants\n    Circle.setup.initObjects();                 //Initialise SVG elements\n};\n\nCircle.core = {\n    draw: function() {\n        Circle.core.drawCircle(Circle.dCircle);\n    },\n\n    drawCircle: function(circle) {\n        Circle.helpers.updateCircle(circle);\n    }\n};\n\nCircle.helpers = {\n    updateCircle: function(circle) {\n        var tipx = (circle.x + 1)*Circle.width/2;       //Brings the x origin to the center \n        var tipy = (1 - circle.y)*Circle.height/2;      //SVG y coordinates increases vertically downward\n\n        circle.body.attr('x2', tipx)\n                  .attr('y2', tipy);\n        circle.tip.attr('cx', tipx)\n                 .attr('cy', tipy);\n\n        circle.text.attr('x', Circle.width/2)\n                    .attr('y', 0.8*Circle.height/2)\n                    .attr('font-size', 12)\n                    .text(circle.stext + ' = ' + Number(Vis.dFBZ).toFixed(2) + 'π');\n    },\n};\n\nCircle.setup = {\n    initConst: function() {                             //Setup constants\n        Circle.width = document.getElementById('interactive-Circle').offsetWidth;\n        Circle.height = document.getElementById('interactive-Circle').offsetHeight;\n\n        Circle.strokeWidth = 2;\n        Circle.tipRadius = 5;\n    },\n\n    initObjects: function() {                           //Initialise SVG elements\n        Circle.svg = d3.select('#interactive-Circle')\n                        .append('svg')\n                        .attr('width', Circle.width)\n                        .attr('height', Circle.height);\n\n        Circle.svg.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"height\", Circle.height)\n        .attr(\"width\", Circle.width)\n        .style(\"stroke\", 'black')\n        .style(\"fill\", \"none\")\n        .style(\"stroke-width\", 1);\n\n        Circle.dCircle = {\n            x: Vis.dFBZ,\n            y: 0,\n            stext: 'k'\n        };\n\n        Circle.setup.initCircle(Circle.dCircle);\n    },\n\n    initCircle: function(circle) {                      //Add the SVG elements\n        circle.container = Circle.setup.createCircleContainer();\n        circle.body = Circle.setup.createCircleBody(circle);\n        circle.tip = Circle.setup.createCircleTip(circle);\n        circle.text = Circle.setup.createCircleText(circle);\n        Circle.helpers.updateCircle(circle);\n    },\n\n    createCircleContainer: function() {\n        return Circle.svg.append('svg')\n                        .attr('width', Circle.width)\n                        .attr('height', Circle.height);\n    },\n\n    createCircleBody: function(circle) {\n        return circle.container.append('line')\n                                  .attr('x1', Circle.width/2).attr('y1', Circle.height/2)\n                                  .attr('stroke-width', Circle.strokeWidth)\n                                  .attr('stroke', 'black');\n    },\n\n    createCircleTip: function(circle) {\n        return circle.container.append('circle')\n                              .attr('r', Circle.tipRadius);\n    },\n\n    createCircleText: function(circle) {\n        return circle.container.append('text');\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', Vis.init);\n\n//--------------------------------------//\n//Code for dispersion graph starts here //\n//--------------------------------------//\n\n// Dispersion relation\nfunction omega_k (d) {\n    return Math.sqrt(4*1*(Math.pow(Math.sin(d*Math.PI*1/2), 2)));\n}\n\n// Setting up data for graph\nvar k = [], w_k = [];\nvar data = [];\nfor (var i = 0; i < 20000; i++) {\n    var thisd = (-10 + i/1000);\n    var thisk = (-10 + i/1000)*Math.PI;\n    k.push(Number(thisk.toFixed(2)));      // fix to 2 decimal places\n    w_k.push(omega_k(thisd));\n    data.push({x: Number(thisk.toFixed(2)), y: omega_k(thisd)});\n}\nvar dispersionWidth = document.getElementById('dispersion-graph').offsetWidth;\nvar dispersionHeight = document.getElementById('dispersion-graph').offsetHeight;\n// set the dimensions and margins of the graph\nvar margin = {top: 0.1*dispersionHeight, right: 0.1*dispersionWidth, bottom: 0.2*dispersionHeight, left: 0.1*dispersionWidth},\n    width = 0.8*dispersionWidth,\n    height = 0.7*dispersionHeight;\n\n// append the svg object to the body of the page\nvar sVg = d3.select(\"#dispersion-graph\")\n  .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  // translate this svg element to leave some margin.\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n// X scale and Axis\nvar x = d3.scaleLinear()\n    .domain([k[0], k.slice(-1)[0]])                           // Range of x axis\n    .range([0, width]);                                       // Length of x axis\n\nsVg.append('g')\n  .attr(\"transform\", \"translate(0,\" + height + \")\")  // Position of x axis\n  .call(d3.axisBottom(x));\n\n// Add X axis label:\nsVg.append(\"text\")\n    .attr(\"text-anchor\", \"end\")\n    .attr(\"font-style\", \"italic\")\n    .attr(\"font-size\", height/11)\n    .attr(\"x\", width)\n    .attr(\"y\", 11*height/12 + 14*margin.bottom/11)\n    .text(\"k = πd\");\n\n// Y scale and Axis\nvar y = d3.scaleLinear()\n.domain([math.min(w_k), math.max(w_k)])                       // Range of y axis\n.range([height, 0]);                                      // Length of y axis\n\nsVg.append('g')\n.attr(\"transform\", \"translate(\" + width/2 + \", 0)\")  // Position of x axis\n.call(d3.axisLeft(y));\n\n// Y axis label:\nsVg.append(\"text\")\n.attr(\"text-anchor\", \"end\")\n.attr(\"font-style\", \"italic\")\n.attr(\"font-size\", height/11)\n.attr(\"x\", 1.4*width/2)\n.attr(\"y\", -margin.top/2)\n.text(\"ω(k) = E/ħ\");\n\n// Draw the potential\nsVg.append(\"path\")\n  .datum(data)\n  .attr(\"fill\", \"none\")\n  .attr(\"stroke\", \"steelblue\")\n  .attr(\"stroke-width\", 1.5)\n  .attr(\"d\", d3.line()\n    .x(function(d) { return x(d.x); })\n    .y(function(d) { return y(d.y); })\n    );\n\n// Draw current k \nvar movingk = sVg\n  .selectAll()\n  .data([{x: 0.1*Math.PI, y: omega_k(0.1)}])\n  .enter()\n  .append(\"circle\")\n    .attr(\"cx\", function(d){ return x(d.x); })\n    .attr(\"cy\", function(d){ return y(d.y); })\n    .attr(\"r\", 3)\n    .attr(\"fill\", \"orange\");\n\n//Slide current k \nfunction slide(newd) {\n    movingk.attr('cx', function(){ return x(newd*Math.PI); }).attr('cy', function(){ return y(omega_k(newd)); });\n}\n}"]}]}