{"remainingRequest":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js??ref--13-0!/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/3D_d3canvas.js","dependencies":[{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/3D_d3canvas.js","mtime":1597924691178},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwppbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7CmltcG9ydCAqIGFzIG1hdGggZnJvbSAnbWF0aGpzJzsKZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkgewogIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy8KICAvLyBWaXN1YWxpc2F0aW9uIE9iamVjdCAgICAgICAgICAgIC8vCiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLwogIHdpbmRvdy5WaXMgPSB3aW5kb3cuVmlzIHx8IHt9OwoKICBWaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIFZpcy5pc1J1bm5pbmcgPSBmYWxzZTsKICAgIFZpcy5zZXR1cC5pbml0Q29uc3RzKCk7CiAgICBWaXMuc2V0dXAuaW5pdFZhcnMoKTsKICAgIFZpcy5zZXR1cC5pbml0RGlzcGxheSgpOwogICAgVmlzLnNldHVwLmluaXRHcmFwaCgpOwogICAgVmlzLnNldHVwLmluaXRTY2VuZSgpOwogICAgVmlzLnNldHVwLmluaXRTbGlkZXJzKCk7CiAgICBWaXMuc3RhcnQoKTsKICB9OwoKICBWaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoVmlzLl9zdG9wdGltZSkgewogICAgICBWaXMuX3RoZW4gKz0gRGF0ZS5ub3coKSAtIFZpcy5fc3RvcHRpbWU7IC8vIGFkZCBzdG9wcGVkIHRpbWUKICAgIH0KCiAgICBpZiAoIVZpcy5pc1J1bm5pbmcpIHsKICAgICAgVmlzLmNvcmUuZnJhbWUoKTsKICAgICAgVmlzLmlzUnVubmluZyA9IHRydWU7CiAgICB9CiAgfTsKCiAgVmlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoVmlzLmFuaW1hdGlvbkZyYW1lTG9vcCk7CiAgICBWaXMuaXNSdW5uaW5nID0gZmFsc2U7CiAgICBWaXMuX3N0b3B0aW1lID0gRGF0ZS5ub3coKTsgLy8gcmVjb3JkIHdoZW4gYW5pbWF0aW9uIHBhdXNlZAogIH07CgogIFZpcy5jb3JlID0gewogICAgZnJhbWU6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLnQgPSAoRGF0ZS5ub3coKSAtIFZpcy5fdGhlbikgLyA1MDA7IC8vIHRpbWUgc2luY2Ugc3RhcnQgaW4gc2Vjb25kcwoKICAgICAgVmlzLmNvcmUudXBkYXRlKCk7CiAgICAgIFZpcy5jb3JlLmFuaW1hdGUoKTsKICAgICAgVmlzLmFuaW1hdGlvbkZyYW1lTG9vcCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoVmlzLmNvcmUuZnJhbWUpOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkgewogICAgICBWaXMud29ya2Vycy5jYWxjUGFyYW1zKCk7CiAgICAgIFZpcy53b3JrZXJzLmNhbGNQb3MoKTsgLy8gVmlzLndvcmtlcnMuY2FsY1BoYXNlKCk7CiAgICB9LAogICAgYW5pbWF0ZTogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKGxldCBuID0gMDsgbiA8IFZpcy5OOyBuKyspIHsKICAgICAgICBWaXMuc3BoZXJlc1tuXS5wb3NpdGlvbi5zZXQoVmlzLnhbbl0sIFZpcy55W25dLCBWaXMueltuXSk7CiAgICAgIH0KCiAgICAgIFZpcy5yZW5kZXJlci5yZW5kZXIoVmlzLnNjZW5lLCBWaXMuY2FtZXJhKTsKICAgIH0sCiAgICB1cGRhdGVTbGlkZXJzOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5keFJhbmdlLnZhbHVlID0gVmlzLmR4OwogICAgICBWaXMuZHhEaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy5keCkudG9GaXhlZCgyKTsKICAgICAgVmlzLmR5UmFuZ2UudmFsdWUgPSBWaXMuZHk7CiAgICAgIFZpcy5keURpc3BsYXkudGV4dENvbnRlbnQgPSBOdW1iZXIoVmlzLmR5KS50b0ZpeGVkKDIpOwogICAgICBWaXMuZHpSYW5nZS52YWx1ZSA9IFZpcy5kejsKICAgICAgVmlzLmR6RGlzcGxheS50ZXh0Q29udGVudCA9IE51bWJlcihWaXMuZHopLnRvRml4ZWQoMik7CiAgICAgIFZpcy51a3hSYW5nZS52YWx1ZSA9IFZpcy51a3g7CiAgICAgIFZpcy51a3hEaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy51a3gpLnRvRml4ZWQoMik7CiAgICAgIFZpcy51a3lSYW5nZS52YWx1ZSA9IFZpcy51a3k7CiAgICAgIFZpcy51a3lEaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy51a3kpLnRvRml4ZWQoMik7CiAgICAgIFZpcy51a3pSYW5nZS52YWx1ZSA9IFZpcy51a3o7CiAgICAgIFZpcy51a3pEaXNwbGF5LnRleHRDb250ZW50ID0gTnVtYmVyKFZpcy51a3opLnRvRml4ZWQoMik7CiAgICAgIFZpcy5jb3JlLnVwZGF0ZURpc3BsYXkoKTsKICAgIH0sCiAgICB1cGRhdGVEaXNwbGF5OiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy53b3JrZXJzLmNhbGNQYXJhbXMoKTsKICAgICAgbGV0IHVrdmVjID0gW1Zpcy51a3gsIFZpcy51a3ksIFZpcy51a3pdOwogICAgICBsZXQga3ZlYyA9IFtWaXMua3gsIFZpcy5reSwgVmlzLmt6XTsKICAgICAgbGV0IGRvdHByb2R1Y3QgPSBNYXRoLnJvdW5kKDEwMCAqIE1hdGguYWJzKG1hdGguZG90KGt2ZWMsIHVrdmVjKSkpIC8gMTAwOwogICAgICBWaXMuZG90RGlzcGxheS50ZXh0Q29udGVudCA9IGRvdHByb2R1Y3QudG9TdHJpbmcoKTsKICAgICAgbGV0IGNyb3NzcHJvZHVjdCA9IE1hdGgucm91bmQoTWF0aC5hYnMoMTAwICogTWF0aC5wb3coTWF0aC5wb3cobWF0aC5jcm9zcyhrdmVjLCB1a3ZlYylbMF0sIDIpICsgTWF0aC5wb3cobWF0aC5jcm9zcyhrdmVjLCB1a3ZlYylbMV0sIDIpICsgTWF0aC5wb3cobWF0aC5jcm9zcyhrdmVjLCB1a3ZlYylbMl0sIDIpLCAwLjUpKSkgLyAxMDA7CiAgICAgIFZpcy5jcm9zc0Rpc3BsYXkudGV4dENvbnRlbnQgPSBjcm9zc3Byb2R1Y3QudG9TdHJpbmcoKTsKICAgIH0KICB9OwogIFZpcy53b3JrZXJzID0gewogICAgY2FsY1BhcmFtczogZnVuY3Rpb24gKCkgewogICAgICBWaXMuayA9IE1hdGguc3FydChWaXMua3ggKiogMiArIFZpcy5reSAqKiAyICsgVmlzLmt6ICoqIDIpOwogICAgICBWaXMua3ggPSBWaXMuZHggKiBNYXRoLlBJIC8gVmlzLmE7CiAgICAgIFZpcy5reSA9IFZpcy5keSAqIE1hdGguUEkgLyBWaXMuYTsKICAgICAgVmlzLmt6ID0gVmlzLmR6ICogTWF0aC5QSSAvIFZpcy5hOwogICAgICBWaXMudyA9IDIgKiBWaXMuZHcgKiBNYXRoLnNxcnQoTWF0aC5zaW4oVmlzLmt4ICogVmlzLmEgLyAyKSAqKiAyICsgTWF0aC5zaW4oVmlzLmt5ICogVmlzLmEgLyAyKSAqKiAyICsgTWF0aC5zaW4oVmlzLmt6ICogVmlzLmEgLyAyKSAqKiAyKTsKICAgICAgVmlzLmRwaGFzZSA9IDIgKiBNYXRoLlBJIC8gVmlzLms7IC8vIHVwZGF0ZSBzcGFjaW5nIG9mIHBoYXNlIHRyYWNrZXIgCiAgICB9LAogICAgY2FsY1BvczogZnVuY3Rpb24gKCkgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFZpcy5OeDsgaSsrKSB7CiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBWaXMuTnk7IGorKykgewogICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBWaXMuTno7IGsrKykgewogICAgICAgICAgICBsZXQgbiA9IFZpcy5OeSAqIFZpcy5OeiAqIGkgKyBWaXMuTnogKiBqICsgazsKICAgICAgICAgICAgbGV0IG9mZnNldCA9IE1hdGguY29zKFZpcy5reCAqIFZpcy5hICogaSArIFZpcy5reSAqIFZpcy5hICogaiArIFZpcy5reiAqIFZpcy5hICogayAtIFZpcy53ICogVmlzLnQpOwogICAgICAgICAgICBWaXMueFtuXSA9IGkgKiBWaXMuYSArIFZpcy51a3ggKiBvZmZzZXQ7CiAgICAgICAgICAgIFZpcy55W25dID0gaiAqIFZpcy5hICsgVmlzLnVreSAqIG9mZnNldDsKICAgICAgICAgICAgVmlzLnpbbl0gPSBrICogVmlzLmEgKyBWaXMudWt6ICogb2Zmc2V0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNhbGNQaGFzZTogZnVuY3Rpb24gKCkgewogICAgICBsZXQgdiA9IFZpcy53IC8gVmlzLms7CiAgICAgIGxldCB2eCA9IHYgKiBWaXMua3ggLyBWaXMuazsKICAgICAgbGV0IHZ5ID0gdiAqIFZpcy5reSAvIFZpcy5rOwogICAgICBsZXQgdnogPSB2ICogVmlzLmt6IC8gVmlzLms7CiAgICAgIGxldCBtID0gdnkgLyB2eDsKICAgICAgdmFyIHNwYWNpbmc7CiAgICAgIHZhciB0X3NwYWNlOwoKICAgICAgaWYgKG0gPj0gLTEgJiYgbSA8PSAxKSB7CiAgICAgICAgLy8gZG8geSBwcm9jZXNzaW5nCiAgICAgICAgc3BhY2luZyA9IFZpcy5kcGhhc2UgKiBWaXMua3kgLyBWaXMuazsgLy8gZGlzdGFuY2UgYmV0d2VlbiBwaGFzZXMgCgogICAgICAgIHRfc3BhY2UgPSBzcGFjaW5nIC8gdnk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZG8geCBwcm9jZXNzaW5nCiAgICAgICAgc3BhY2luZyA9IFZpcy5kcGhhc2UgKiBWaXMua3ggLyBWaXMuazsKICAgICAgICB0X3NwYWNlID0gc3BhY2luZyAvIHZ4OwogICAgICB9CgogICAgICBsZXQgdCA9IFZpcy50ICUgKFZpcy5OeCAqIHRfc3BhY2UgLyAyKTsgLy8gaGV1cmlzdGljICMgb2YgdGltZSBzcGFjaW5ncyB1bnRpbCB3cmFwIGFyb3VuZCAKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVmlzLk5waGFzZTsgaSsrKSB7CiAgICAgICAgbGV0IFQgPSB0ICsgKGkgLSBWaXMuTnBoYXNlIC8gMikgKiB0X3NwYWNlOyAvLyBzaGlmdCBlYWNoIHBoYXNlIHBhcnRpY2xlIAoKICAgICAgICBpZiAobSA+PSAtMSAmJiBtIDw9IDEpIHsKICAgICAgICAgIC8vIGRvIHggcHJvY2Vzc2luZwogICAgICAgICAgVmlzLnBoYXNleFtpXSA9IFQgKiB2eDsKICAgICAgICAgIFZpcy5waGFzZXlbaV0gPSBtICogKFQgKiB2eCAtIFZpcy5OeCAqIFZpcy5hIC8gMikgKyBWaXMuTnkgKiBWaXMuYSAvIDI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGRvIHkgcHJvY2Vzc2luZwogICAgICAgICAgVmlzLnBoYXNleFtpXSA9IDEgLyBtICogKFQgKiB2eSAtIFZpcy5OeSAqIFZpcy5hIC8gMikgKyBWaXMuTnggKiBWaXMuYSAvIDI7CiAgICAgICAgICBWaXMucGhhc2V5W2ldID0gVCAqIHZ5OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgVmlzLnNldHVwID0gewogICAgaW5pdENvbnN0czogZnVuY3Rpb24gKCkgewogICAgICBWaXMuYSA9IDE7IC8vIGF0b21pYyBzcGFjaW5nCgogICAgICBWaXMuZHcgPSAxOyAvLyBkZWJ5ZSB3YXZlbGVuZ3RoCgogICAgICBWaXMuTnggPSAxMDsgLy8gIyBvZiBhdG9tcyBpbiB4IGRpcmVjdGlvbgoKICAgICAgVmlzLk55ID0gMTA7IC8vICMgb2YgYXRvbXMgaW4geSBkaXJlY3Rpb24KCiAgICAgIFZpcy5OeiA9IDEwOyAvLyAjIG9mIGF0b21zIGluIHogZGlyZWN0aW9uCgogICAgICBWaXMuTiA9IFZpcy5OeCAqIFZpcy5OeSAqIFZpcy5OejsKICAgICAgVmlzLk5waGFzZSA9IDIgKiBWaXMuTng7CiAgICAgIFZpcy5jYW52YXN4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tdmlzJykub2Zmc2V0V2lkdGg7CiAgICAgIFZpcy5jYW52YXN5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tdmlzJykub2Zmc2V0SGVpZ2h0OwogICAgICBWaXMucG9pbnRSID0gMC4xMCAqIFZpcy5hOwogICAgfSwKICAgIGluaXRWYXJzOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5fdGhlbiA9IERhdGUubm93KCk7CiAgICAgIFZpcy5keCA9IDAuNTsgLy8gJSBvZiBtYXggeCB3YXZlbnVtYmVyLCAoLTEsIDEpCgogICAgICBWaXMuZHkgPSAwOyAvLyAlIG9mIG1heCB5IHdhdmVudW1iZXIsICgtMSwgMSkKCiAgICAgIFZpcy5keiA9IDA7IC8vICUgb2YgbWF4IHogd2F2ZW51bWJlciwgKC0xLCAxKQoKICAgICAgVmlzLnVreCA9IDA7IC8vIHggYW1wbGl0dWRlCgogICAgICBWaXMudWt5ID0gMDsgLy8geSBhbXBsaXR1ZGUKCiAgICAgIFZpcy51a3ogPSAwLjU7IC8vIHogYW1wbGl0dWRlCgogICAgICBWaXMueCA9IG5ldyBBcnJheShWaXMuTik7CiAgICAgIFZpcy55ID0gbmV3IEFycmF5KFZpcy5OKTsKICAgICAgVmlzLnogPSBuZXcgQXJyYXkoVmlzLk4pOwogICAgICBWaXMuc3BoZXJlcyA9IG5ldyBBcnJheShWaXMuTik7CiAgICAgIFZpcy5waGFzZXggPSBuZXcgQXJyYXkoVmlzLk5waGFzZSk7CiAgICAgIFZpcy5waGFzZXkgPSBuZXcgQXJyYXkoVmlzLk5waGFzZSk7CiAgICAgIFZpcy5waGFzZXogPSBuZXcgQXJyYXkoVmlzLk5waGFzZSk7CiAgICB9LAogICAgaW5pdEdyYXBoOiBmdW5jdGlvbiAoKSB7CiAgICAgIFZpcy5jYW52YXMgPSBkMy5zZWxlY3QoJyNtYWluLXZpcycpLmFwcGVuZCgnY2FudmFzJykuYXR0cignd2lkdGgnLCBWaXMuY2FudmFzeCkuYXR0cignaGVpZ2h0JywgVmlzLmNhbnZhc3kpOwogICAgICBWaXMuY29udGV4dCA9IFZpcy5jYW52YXMubm9kZSgpLmdldENvbnRleHQoJzJkJyk7CiAgICAgIFZpcy5jb252ZXJ0Q2FudmFzWCA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBWaXMuTnggKiBWaXMuYV0pLnJhbmdlKFswLCBWaXMuY2FudmFzeF0pOwogICAgICBWaXMuY29udmVydENhbnZhc1kgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgVmlzLk55ICogVmlzLmFdKS5yYW5nZShbVmlzLmNhbnZhc3ksIDBdKTsKICAgIH0sCiAgICBpbml0U2NlbmU6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7CiAgICAgIFZpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZmZmKTsKICAgICAgVmlzLmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgVmlzLmNhbnZhc3ggLyBWaXMuY2FudmFzeSwgMC4xLCAxMDAwKTsKICAgICAgVmlzLmNhbWVyYS5wb3NpdGlvbi5zZXQoLTAuOCwgLTAuNiwgLTAuOCk7CiAgICAgIFZpcy5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTsKICAgICAgVmlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoewogICAgICAgIGFudGlhbGlhczogdHJ1ZSwKICAgICAgICBjYW52YXM6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtZGl2JykKICAgICAgfSk7CiAgICAgIFZpcy5yZW5kZXJlci5zZXRTaXplKFZpcy5jYW52YXN4LCBWaXMuY2FudmFzeSk7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtZGl2JykuYXBwZW5kQ2hpbGQoVmlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpOwoKICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBWaXMuTjsgbisrKSB7CiAgICAgICAgbGV0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUJ1ZmZlckdlb21ldHJ5KFZpcy5wb2ludFIsIDEwLCAxMCk7CiAgICAgICAgbGV0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsKICAgICAgICAgIGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoImhzbCgiICsgTnVtYmVyKDM2MCAqIG4gLyAoVmlzLk4gLSAxKSkudG9GaXhlZCgyKSArICIsIDYwJSwgNTIlKSIpCiAgICAgICAgfSk7CiAgICAgICAgbGV0IHNwaGVyZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7CiAgICAgICAgVmlzLnNwaGVyZXNbbl0gPSBzcGhlcmU7CiAgICAgICAgVmlzLnNjZW5lLmFkZChzcGhlcmUpOwogICAgICB9CiAgICB9LAogICAgaW5pdEJ1dHRvbjogZnVuY3Rpb24gKCkgewogICAgICBWaXMuYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0LXN0b3AnKTsKICAgICAgVmlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoVmlzLmlzUnVubmluZykgewogICAgICAgICAgVmlzLnN0b3AoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVmlzLnN0YXJ0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBpbml0U2xpZGVyczogZnVuY3Rpb24gKCkgewogICAgICAvLyByIHNsaWRlcnMKICAgICAgVmlzLmR4UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHgnKTsKICAgICAgVmlzLmR4RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeC1kaXNwbGF5Jyk7CiAgICAgIFZpcy5keFJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5keCA9IFZpcy5keFJhbmdlLnZhbHVlOwogICAgICAgIFZpcy5keERpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMuZHg7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsKICAgICAgVmlzLmR5UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHknKTsKICAgICAgVmlzLmR5RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeS1kaXNwbGF5Jyk7CiAgICAgIFZpcy5keVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5keSA9IFZpcy5keVJhbmdlLnZhbHVlOwogICAgICAgIFZpcy5keURpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMuZHk7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsKICAgICAgVmlzLmR6UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHonKTsKICAgICAgVmlzLmR6RGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkei1kaXNwbGF5Jyk7CiAgICAgIFZpcy5kelJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgIFZpcy5keiA9IFZpcy5kelJhbmdlLnZhbHVlOwogICAgICAgIFZpcy5kekRpc3BsYXkudGV4dENvbnRlbnQgPSBWaXMuZHo7CiAgICAgICAgVmlzLmNvcmUudXBkYXRlRGlzcGxheSgpOwogICAgICB9KTsgLy8gdSBzbGlkZXJzCgogICAgICBWaXMudWt4UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWt4Jyk7CiAgICAgIFZpcy51a3hEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VreC1kaXNwbGF5Jyk7CiAgICAgIFZpcy51a3hSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBWaXMudWt4ID0gVmlzLnVreFJhbmdlLnZhbHVlOwogICAgICAgIFZpcy51a3hEaXNwbGF5LnRleHRDb250ZW50ID0gVmlzLnVreDsKICAgICAgICBWaXMuY29yZS51cGRhdGVEaXNwbGF5KCk7CiAgICAgIH0pOwogICAgICBWaXMudWt5UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWt5Jyk7CiAgICAgIFZpcy51a3lEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VreS1kaXNwbGF5Jyk7CiAgICAgIFZpcy51a3lSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBWaXMudWt5ID0gVmlzLnVreVJhbmdlLnZhbHVlOwogICAgICAgIFZpcy51a3lEaXNwbGF5LnRleHRDb250ZW50ID0gVmlzLnVreTsKICAgICAgICBWaXMuY29yZS51cGRhdGVEaXNwbGF5KCk7CiAgICAgIH0pOwogICAgICBWaXMudWt6UmFuZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndWt6Jyk7CiAgICAgIFZpcy51a3pEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Vrei1kaXNwbGF5Jyk7CiAgICAgIFZpcy51a3pSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBWaXMudWt6ID0gVmlzLnVrelJhbmdlLnZhbHVlOwogICAgICAgIFZpcy51a3pEaXNwbGF5LnRleHRDb250ZW50ID0gVmlzLnVrejsKICAgICAgICBWaXMuY29yZS51cGRhdGVEaXNwbGF5KCk7CiAgICAgIH0pOwogICAgICBWaXMuY29yZS51cGRhdGVTbGlkZXJzKCk7CiAgICB9LAogICAgaW5pdERpc3BsYXk6IGZ1bmN0aW9uICgpIHsKICAgICAgVmlzLmRvdERpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZG90cHJvZHVjdCIpOwogICAgICBWaXMuY3Jvc3NEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNyb3NzcHJvZHVjdCIpOwogICAgfQogIH07CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIFZpcy5pbml0KTsKfQ=="},{"version":3,"sources":["/Users/darrenlean/Documents/Visualisations/Lattice-Vibrations/Vue-Version/src/3D_d3canvas.js"],"names":["d3","THREE","math","window","Vis","init","isRunning","setup","initConsts","initVars","initDisplay","initGraph","initScene","initSliders","start","_stoptime","_then","Date","now","core","frame","stop","cancelAnimationFrame","animationFrameLoop","t","update","animate","requestAnimationFrame","workers","calcParams","calcPos","n","N","spheres","position","set","x","y","z","renderer","render","scene","camera","updateSliders","dxRange","value","dx","dxDisplay","textContent","Number","toFixed","dyRange","dy","dyDisplay","dzRange","dz","dzDisplay","ukxRange","ukx","ukxDisplay","ukyRange","uky","ukyDisplay","ukzRange","ukz","ukzDisplay","updateDisplay","ukvec","kvec","kx","ky","kz","dotproduct","Math","round","abs","dot","dotDisplay","toString","crossproduct","pow","cross","crossDisplay","k","sqrt","PI","a","w","dw","sin","dphase","i","Nx","j","Ny","Nz","offset","cos","calcPhase","v","vx","vy","vz","m","spacing","t_space","Nphase","T","phasex","phasey","canvasx","document","getElementById","offsetWidth","canvasy","offsetHeight","pointR","Array","phasez","canvas","select","append","attr","context","node","getContext","convertCanvasX","scaleLinear","domain","range","convertCanvasY","Scene","background","Color","PerspectiveCamera","lookAt","Vector3","WebGLRenderer","antialias","setSize","geometry","SphereBufferGeometry","material","MeshBasicMaterial","color","sphere","Mesh","add","initButton","button","addEventListener"],"mappings":"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","sourcesContent":["import * as d3 from 'd3';\nimport * as THREE from 'three';\nimport * as math from 'mathjs';\n\nexport default function() {\n\n//---------------------------------//\n// Visualisation Object            //\n//---------------------------------//\n\nwindow.Vis = window.Vis || {};\n\nVis.init = function() {\n    Vis.isRunning = false;\n\n    Vis.setup.initConsts();\n    Vis.setup.initVars();\n\n    Vis.setup.initDisplay();\n    Vis.setup.initGraph();\n    Vis.setup.initScene();\n\n    Vis.setup.initSliders();\n\n    Vis.start();\n};\n\nVis.start = function() {\n    if (Vis._stoptime) {\n        Vis._then += Date.now() - Vis._stoptime; // add stopped time\n    }\n\n    if (!Vis.isRunning) {\n        Vis.core.frame();\n        Vis.isRunning = true;\n    }\n};\n\nVis.stop = function() {\n    window.cancelAnimationFrame(Vis.animationFrameLoop);\n    Vis.isRunning = false;\n    Vis._stoptime = Date.now(); // record when animation paused\n};\n\nVis.core = {\n    frame: function() {\n        Vis.t = (Date.now() - Vis._then) / 500; // time since start in seconds\n\n        Vis.core.update();\n        Vis.core.animate();\n\n        Vis.animationFrameLoop = window.requestAnimationFrame(Vis.core.frame);\n    },\n\n    update: function() {\n        Vis.workers.calcParams();\n        Vis.workers.calcPos();\n        // Vis.workers.calcPhase();\n    },\n\n    animate: function() {\n        for (let n=0; n<Vis.N; n++) {\n            Vis.spheres[n].position.set(Vis.x[n], Vis.y[n], Vis.z[n]);\n        }\n\n        Vis.renderer.render(Vis.scene, Vis.camera);\n        \n    },\n\n    updateSliders: function() {\n        Vis.dxRange.value = Vis.dx;\n        Vis.dxDisplay.textContent = Number(Vis.dx).toFixed(2);\n\n        Vis.dyRange.value = Vis.dy;\n        Vis.dyDisplay.textContent = Number(Vis.dy).toFixed(2);\n\n        Vis.dzRange.value = Vis.dz;\n        Vis.dzDisplay.textContent = Number(Vis.dz).toFixed(2);\n\n\n        Vis.ukxRange.value = Vis.ukx;\n        Vis.ukxDisplay.textContent = Number(Vis.ukx).toFixed(2);\n\n        Vis.ukyRange.value = Vis.uky;\n        Vis.ukyDisplay.textContent = Number(Vis.uky).toFixed(2);\n\n        Vis.ukzRange.value = Vis.ukz;\n        Vis.ukzDisplay.textContent = Number(Vis.ukz).toFixed(2);\n\n        Vis.core.updateDisplay();\n    },\n\n    updateDisplay: function() {\n        Vis.workers.calcParams();\n\n        let ukvec = [Vis.ukx, Vis.uky, Vis.ukz];\n        let kvec = [Vis.kx, Vis.ky, Vis.kz];\n\n        let dotproduct = Math.round(100*Math.abs(math.dot(kvec, ukvec)))/100;\n        Vis.dotDisplay.textContent = dotproduct.toString();\n\n        let crossproduct = Math.round(Math.abs(100*Math.pow((Math.pow(math.cross(kvec, ukvec)[0], 2) + Math.pow(math.cross(kvec, ukvec)[1], 2) + Math.pow(math.cross(kvec, ukvec)[2], 2)), 0.5)))/100;\n        Vis.crossDisplay.textContent = crossproduct.toString();\n    }\n};\n\nVis.workers = {\n    calcParams: function() {\n        Vis.k = Math.sqrt(Vis.kx**2 + Vis.ky**2 + Vis.kz**2);\n        Vis.kx = Vis.dx * Math.PI / Vis.a;\n        Vis.ky = Vis.dy * Math.PI / Vis.a;\n        Vis.kz = Vis.dz * Math.PI / Vis.a;\n\n        Vis.w = 2 * Vis.dw * Math.sqrt(Math.sin(Vis.kx * Vis.a / 2)**2 + Math.sin(Vis.ky * Vis.a / 2)**2 + Math.sin(Vis.kz * Vis.a / 2)**2);\n\n        Vis.dphase = 2*Math.PI/Vis.k; // update spacing of phase tracker \n    },\n\n    calcPos: function() {\n        for (let i=0; i < Vis.Nx; i++) {\n            for (let j=0; j < Vis.Ny; j++) {\n                for (let k=0; k < Vis.Nz; k++) {\n                    let n = Vis.Ny*Vis.Nz*i + Vis.Nz*j + k;\n                    let offset = Math.cos( Vis.kx*Vis.a*i + Vis.ky*Vis.a*j + Vis.kz*Vis.a*k - Vis.w*Vis.t);\n    \n                    Vis.x[n] = i*Vis.a + Vis.ukx * offset;\n                    Vis.y[n] = j*Vis.a + Vis.uky * offset;\n                    Vis.z[n] = k*Vis.a + Vis.ukz * offset;\n                }\n            }\n        }\n    },\n\n    calcPhase: function() {\n        let v = Vis.w / Vis.k;\n        let vx = v * Vis.kx / Vis.k;\n        let vy = v * Vis.ky / Vis.k;\n        let vz = v * Vis.kz / Vis.k;\n\n        let m = vy / vx;\n\n        var spacing;\n        var t_space;\n        if (m >= -1 && m <= 1) {\n            // do y processing\n            spacing = Vis.dphase * Vis.ky / Vis.k; // distance between phases \n            t_space = spacing / vy;\n        } else {\n            // do x processing\n            spacing = Vis.dphase * Vis.kx / Vis.k;\n            t_space = spacing / vx;\n        }\n\n        let t = Vis.t % (Vis.Nx*t_space/2); // heuristic # of time spacings until wrap around \n\n        for (let i=0; i < Vis.Nphase; i++) {\n            let T = t + (i - Vis.Nphase/2)*t_space; // shift each phase particle \n\n            if (m >= -1 && m <= 1) {\n                // do x processing\n                Vis.phasex[i] = T*vx;\n                Vis.phasey[i] = (m)*(T*vx - Vis.Nx*Vis.a/2) + Vis.Ny*Vis.a/2;\n            } else {\n                // do y processing\n                Vis.phasex[i] = (1/m)*(T*vy - Vis.Ny*Vis.a/2) + Vis.Nx*Vis.a/2;\n                Vis.phasey[i] = T*vy;\n            }\n\n            \n        }\n    }\n};\n\nVis.setup = {\n    initConsts: function() {\n        Vis.a = 1; // atomic spacing\n        Vis.dw = 1; // debye wavelength\n\n        Vis.Nx = 10; // # of atoms in x direction\n        Vis.Ny = 10; // # of atoms in y direction\n        Vis.Nz = 10; // # of atoms in z direction\n        Vis.N = Vis.Nx * Vis.Ny * Vis.Nz;\n\n        Vis.Nphase = 2*Vis.Nx;\n\n        Vis.canvasx = document.getElementById('main-vis').offsetWidth;\n        Vis.canvasy = document.getElementById('main-vis').offsetHeight;\n\n        Vis.pointR = 0.10 * Vis.a;\n    },\n\n    initVars: function() {\n        Vis._then = Date.now();\n\n        Vis.dx = 0.5; // % of max x wavenumber, (-1, 1)\n        Vis.dy = 0; // % of max y wavenumber, (-1, 1)\n        Vis.dz = 0; // % of max z wavenumber, (-1, 1)\n\n        Vis.ukx = 0; // x amplitude\n        Vis.uky = 0; // y amplitude\n        Vis.ukz = 0.5; // z amplitude\n\n        Vis.x = new Array(Vis.N);\n        Vis.y = new Array(Vis.N);\n        Vis.z = new Array(Vis.N);\n        Vis.spheres = new Array(Vis.N);\n\n        Vis.phasex = new Array(Vis.Nphase);\n        Vis.phasey = new Array(Vis.Nphase);\n        Vis.phasez = new Array(Vis.Nphase);\n    },\n\n    initGraph: function() {\n        Vis.canvas = d3.select('#main-vis')\n                       .append('canvas')\n                        .attr('width', Vis.canvasx)\n                        .attr('height', Vis.canvasy);\n        Vis.context = Vis.canvas.node().getContext('2d');\n\n        Vis.convertCanvasX = d3.scaleLinear()\n                                .domain([0, Vis.Nx*Vis.a])\n                                .range([0, Vis.canvasx]);\n        Vis.convertCanvasY = d3.scaleLinear()\n                                .domain([0, Vis.Ny*Vis.a])\n                                .range([Vis.canvasy, 0]);\n    },\n\n    initScene: function() {\n        Vis.scene = new THREE.Scene();\n        Vis.scene.background = new THREE.Color( 0xffffff );\n        \n        Vis.camera = new THREE.PerspectiveCamera( 75, Vis.canvasx/Vis.canvasy, 0.1, 1000 );\n        Vis.camera.position.set(-0.8, -0.6, -0.8);\n        Vis.camera.lookAt(new THREE.Vector3(0,0,0));\n\n        Vis.renderer = new THREE.WebGLRenderer({ \n            antialias: true,\n            canvas: document.getElementById('canvas-div')\n        });\n        Vis.renderer.setSize(Vis.canvasx, Vis.canvasy);\n        // document.getElementById('canvas-div').appendChild(Vis.renderer.domElement);\n\n        for (let n=0; n<Vis.N; n++) {\n            let geometry = new THREE.SphereBufferGeometry(Vis.pointR, 10, 10);\n            let material = new THREE.MeshBasicMaterial( { \n                color: new THREE.Color(\"hsl(\" + Number(360*n/(Vis.N-1)).toFixed(2) + \", 60%, 52%)\") \n            } );\n            let sphere = new THREE.Mesh( geometry, material );\n            Vis.spheres[n] = sphere;\n            \n            Vis.scene.add(sphere);\n        }\n    },\n\n    initButton: function() {\n        Vis.button = document.getElementById('start-stop');\n\n        Vis.button.addEventListener('click', function() {\n            if (Vis.isRunning) {\n                Vis.stop();\n            } else {\n                Vis.start();\n            }\n        });\n    },\n\n    initSliders: function() {\n        // r sliders\n        Vis.dxRange = document.getElementById('dx');\n        Vis.dxDisplay = document.getElementById('dx-display');\n\n        Vis.dxRange.addEventListener('input', function() {\n            Vis.dx = Vis.dxRange.value;\n            Vis.dxDisplay.textContent = Vis.dx;\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.dyRange = document.getElementById('dy');\n        Vis.dyDisplay = document.getElementById('dy-display');\n\n        Vis.dyRange.addEventListener('input', function() {\n            Vis.dy = Vis.dyRange.value;\n            Vis.dyDisplay.textContent = Vis.dy;\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.dzRange = document.getElementById('dz');\n        Vis.dzDisplay = document.getElementById('dz-display');\n\n        Vis.dzRange.addEventListener('input', function() {\n            Vis.dz = Vis.dzRange.value;\n            Vis.dzDisplay.textContent = Vis.dz;\n\n            Vis.core.updateDisplay();\n        });\n\n        // u sliders\n        Vis.ukxRange = document.getElementById('ukx');\n        Vis.ukxDisplay = document.getElementById('ukx-display');\n\n        Vis.ukxRange.addEventListener('input', function() {\n            Vis.ukx = Vis.ukxRange.value;\n            Vis.ukxDisplay.textContent = Vis.ukx;\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.ukyRange = document.getElementById('uky');\n        Vis.ukyDisplay = document.getElementById('uky-display');\n\n        Vis.ukyRange.addEventListener('input', function() {\n            Vis.uky = Vis.ukyRange.value;\n            Vis.ukyDisplay.textContent = Vis.uky;\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.ukzRange = document.getElementById('ukz');\n        Vis.ukzDisplay = document.getElementById('ukz-display');\n\n        Vis.ukzRange.addEventListener('input', function() {\n            Vis.ukz = Vis.ukzRange.value;\n            Vis.ukzDisplay.textContent = Vis.ukz;\n\n            Vis.core.updateDisplay();\n        });\n\n        Vis.core.updateSliders();\n    },\n\n    initDisplay: function() {\n        Vis.dotDisplay = document.getElementById(\"dotproduct\");\n        Vis.crossDisplay = document.getElementById(\"crossproduct\");\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', Vis.init);\n}"]}]}